(function(a){var e={aviaUseCustomEditor:!1,aviaPostID:!1,insertContainer:!1,bind_click:function(){a('body').on('click','.avia_uploader',function(){var l=this.title,n='';this.title='';e.aviaPostID=this.hash.substring(1);e.aviaUseCustomEditor=!0;e.insertContainer=a(this).parents('.avia_upload_container');if(e.insertContainer.is('.avia_advanced_upload')){n='&amp;avia_idbased='+a('.avia_upload_input',e.insertContainer).attr('name')};var r=a(this).parents('.avia_upload_container').find('.avia_upload_insert_label').trigger('change').val(),i=a(this).parents('.avia_upload_container').find('.avia_gallery_mode'),t='';if(i.length){t='&amp;avia_gallery_mode='+i.trigger('change').val()};tb_show(l,'media-upload.php?post_id='+e.aviaPostID+n+t+'&amp;avia_label='+encodeURI(r)+'&amp;TB_iframe=true');return!1})},bind_remove:function(){a('body').on('click','.avia_remove_image',function(){var e=a(this).parents('.avia_upload_container');e.find('.avia_upload_input').val('').trigger('change');e.find('.avia_preview_pic').hide(400,function(){a(this).html('').css({display:'block'})});return!1})},bind_blur:function(){a('body').on('blur change','.avia_upload_input',function(){var e=a(this),i=e.val(),n='<img src ="'+i+'" alt="" />',t=e.parents('.avia_upload_container:eq(0)').find('.avia_preview_pic');if(i!=''){t.html('<a href="#" class="avia_remove_image">×</a>'+n)}
else{t.html('')}})},change_label:function(){e.idBasedUpload();var t=a('.avia_insert_button_label').val();if(t!=''&&typeof t=='string'){var i=a('.savesend');if(i.length>0){a('.button',i).val(t);a('.wp-post-thumbnail',i).css('display','none')}}},hijack_uploader:function(){window.original_send_to_editor=window.send_to_editor;window.send_to_editor=function(i){if(e.aviaUseCustomEditor){var l=e.insertContainer,t=a(i),n=t.attr('src')||t.find('img').attr('src')||t.attr('href'),r='';l.find('.avia_upload_input').val(n).trigger('change');if(n.match(/.jpg$|.jpeg$|.png$|.gif$/)){r='<a href="#" class="avia_remove_image">×</a><img src="'+n+'" alt="" />'}
else{r='<a href="#" class="avia_remove_image">×</a><img src="'+avia_framework_globals.frameworkUrl+'images/icons/video.png" alt="" />'};l.find('.avia_preview_pic').html(r);tb_remove();e.reset_uploader()}
else{window.original_send_to_editor(i)}}},idBasedUpload:function(){var n=a('.avia_idbased');if(n.length>0){n=n.val();var b=a('.savesend'),s=a('.button',b).not('.del-attachment .button'),r=a('input[name='+n+']',parent.document),u=r.parents('.avia_advanced_upload:eq(0)').find('.avia_preview_pic'),i=a('#filter'),c=a('.avia_insert_button_label'),t=a('.avia_gallery_mode_active'),l=a('#gallery-form, #file-form');if(l.length){var o=l.find('input[name=_wp_http_referer]').val(),d=l.attr('action'),p='';o=o.replace(/.+media-upload\.php?/,'');d=d.replace(/media-upload\.php?.+/,'');p=d+'media-upload.php'+o;l.attr('action',p)};if(t.length){t=!0;if(a('#avia_update_gallery').length){v=a('#avia_update_gallery')}
else{var h=a('#save-all, #save').not('.hidden'),y=a('#save'),v=a('<input type="submit" name="avia_update_gallery" id="avia_update_gallery" class="button savebutton" value="...then close the window and update gallery preview" />');v.insertAfter(h)};a('.savesend .button').not('.del-attachment .button').remove();s=a('.savesend .button, #insert-gallery, #avia_update_gallery').not('.del-attachment .button').attr('onmousedown','');a('#gallery-settings').css({display:'none'})}
else{t=!1};if(i.length){var m=i.find('input[name=avia_idbased]'),g=i.find('input[name=avia_label]'),f=i.find('input[name=avia_gallery_mode]');if(!m.length){i.prepend('<input type=\'hidden\' name=\'avia_idbased\' value=\''+n+'\'/>')};if(c.length&&!g.length){i.prepend('<input type=\'hidden\' name=\'avia_label\' value=\''+c.val()+'\'/>')};if(t&&!f.length){i.prepend('<input type=\'hidden\' name=\'avia_gallery_mode\' value=\'true\'/>')}};if(t){s.off('click').on('click',function(){var i=post_id,t=r.parents('.avia_control:eq(0)').find('.avia_thumbnail_container');a.ajax({type:'POST',url:window.ajaxurl,data:'action=avia_ajax_get_gallery&attachment_id='+i,success:function(a){t.html(a);parent.tb_remove();e.reset_uploader()}});return!1})}
else{s.off('click').on('click',function(){var i=this.name.replace(/send\[/,'').replace(/\]/,'');a.ajax({type:'POST',url:window.ajaxurl,data:'action=avia_ajax_get_image&attachment_id='+i,success:function(t){t=a.trim(t);if(t.match(/^<img/)){r.val(i);u.html('<a href="#" class="avia_remove_image">×</a>'+t)}
else{r.val(t);visualInsert='<a href="#" class="avia_remove_image">×</a><img src="'+avia_framework_globals.frameworkUrl+'images/icons/video.png" alt="" />';u.html(visualInsert)};parent.tb_remove();e.reset_uploader()}});return!1})}}},reset_uploader:function(){e.aviaUseCustomEditor=!1;e.aviaPostID=!1;e.insertContainer=!1}};a(function(){a('#media-buttons a').click(e.reset_uploader);e.bind_click();e.bind_blur();e.bind_remove();e.idBasedUpload();e.hijack_uploader();e.change_label();a('body').on('mouseenter','.slidetoggle',e.change_label)})})(jQuery);(function(e){var a={recalcTimeout:!1,bind_click:function(){var n='.menu-item-avia-megamenu,#menu-to-edit';e(document).on('click',n,function(){var n=e(this),i=n.parents('.menu-item:eq(0)');if(n.is(':checked')){i.addClass('avia_mega_active')}
else{i.removeClass('avia_mega_active')};a.recalc()})},recalcInit:function(){e(document).on('mouseup','.menu-item-bar',function(n,i){if(!e(n.target).is('a')){clearTimeout(a.recalcTimeout);a.recalcTimeout=setTimeout(a.recalc,500)}})},recalc:function(){var a=e('.menu-item','#menu-to-edit');a.each(function(n){var i=e(this),t=e('.menu-item-avia-megamenu',this);if(!i.is('.menu-item-depth-0')){var c=a.filter(':eq('+(n-1)+')');if(c.is('.avia_mega_active')){i.addClass('avia_mega_active');t.attr('checked','checked')}
else{i.removeClass('avia_mega_active');t.attr('checked','')}}})},addItemToMenu:function(a,n,i){var t=e('#menu').val(),c=e('#menu-settings-column-nonce').val();n=n||function(){};i=i||function(){};params={'action':'avia_ajax_switch_menu_walker','menu':t,'menu-settings-column-nonce':c,'menu-item':a};e.post(ajaxurl,params,function(a){var t=e('#menu-instructions');n(a,params);if(!t.hasClass('menu-instructions-inactive')&&t.siblings().length)t.addClass('menu-instructions-inactive');i()})}};e(function(){a.bind_click();a.recalcInit();a.recalc();if(typeof wpNavMenu!='undefined'){wpNavMenu.addItemToMenu=a.addItemToMenu}})})(jQuery);;jQuery(function(a){a("#avia_options_page").avia_dynamic_templates()});(function(a){avia_framework_globals.avia_ajax_action=!1;a.fn.avia_dynamic_templates=function(t){return this.each(function(){var v=a(this);if(v.length!=1)return;var t=a(".avia_create_options",this),r=a("a.avia_dynamical_add_elements"),i=a("#avia_hidden_data",this),s=a(".avia_remove_dynamic_page",this),l=a(".avia_remove_dynamic_element",this),o=t.parents(".avia_create_options_container:eq(0)").find("input.avia_create_options_page_new_name"),n={ajaxUrl:a("input[name=admin_ajax_url]",i).val(),prefix:a("input[name=avia_options_prefix]",i).val(),optionSlug:a("input[name=avia_options_page_slug]",i).val(),_wpnonce:a("input[name=avia-nonce]",i).val(),_wp_http_referer:a("input[name=_wp_http_referer]",i).val()};t.on("click",{set:n},e.add_options_page);r.on("click",{set:n},e.add_element);s.on("click",{set:n},e.delete_options_page);l.on("click",{set:n},e.delete_element);o.on("keydown change keyup",function(a){if(o.val()!=""&&o.val().length>2){t.removeClass("avia_button_inactive")}
else if(!t.is(".avia_button_inactive")){t.addClass("avia_button_inactive")};if(a.keyCode==13){if(a.type=="keyup")t.trigger("click");return!1}})})};var e={delete_element:function(e){if(avia_framework_globals.avia_ajax_action)return!1;avia_framework_globals.avia_ajax_action=!0;var n=e.data.set,t=a(this),i=t.parents(".avia_row:eq(0)");if(!i.length)i=t.parents(".avia_section:eq(0)");var o=a(".avia_removable_element_loading",i);n.elementSlug=this.hash.substring(1);n.action="avia_ajax_delete_dynamic_element";a.ajax({type:"POST",url:n.ajaxUrl,data:n,beforeSend:function(){t.css("display","none");o.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1})},error:function(){a("body").avia_alert({the_class:"error",text:"Couldn't remove the element because the server didn’t respond.<br/>Please wait a few seconds, then try again"});t.css("display","block");o.css({display:"none"});avia_framework_globals.avia_ajax_action=!1},success:function(e){if(e.match(/avia_removed_element/)){i.slideUp(400,function(){i.remove();a(".avia_header .avia_button_inactive, .avia_footer .avia_button_inactive").removeClass("avia_button_inactive");avia_framework_globals.avia_ajax_action=!1})}
else{var n="Something went wrong, please try again in a few seconds.";if(e)n+="The script returned the following error: <br/><br/>"+e.replace(/avia_removed_element/,"");a("body").avia_alert({the_class:"error",text:n});t.css("display","block");o.css({display:"none"});avia_framework_globals.avia_ajax_action=!1}}});return!1},delete_options_page:function(e){if(avia_framework_globals.avia_ajax_action)return!1;avia_framework_globals.avia_ajax_action=!0;var t=e.data.set,i=a(this),n=i.parents(".avia_subpage_container:eq(0)"),o=confirm("Do you really want to "+i.text()+"? This action can not be undone and will also delete all attached elements.");t.action="avia_ajax_delete_dynamic_options";t.elementSlug=this.hash.substring(1);if(o){a.ajax({type:"POST",url:t.ajaxUrl,data:t,error:function(){a("body").avia_alert({the_class:"error",text:"Couldn't remove the options because the server didn’t respond.<br/>Please wait a few seconds, then try again"});avia_framework_globals.avia_ajax_action=!1},success:function(e){if(e.match(/avia_removed_page/)){a(".avia_sidebar_content .avia_active_nav").remove();n.remove();a(".avia_subpage_container").filter(":eq(0)").addClass("avia_active_container");a(".avia_sidebar_content .avia_section_header:eq(0)").addClass("avia_active_nav")}
else{var t="Something went wrong, please try again in a few seconds.";if(e)t+="The script returned the following error: <br/><br/>"+e;a("body").avia_alert({the_class:"error",text:t})};avia_framework_globals.avia_ajax_action=!1}})}
else{avia_framework_globals.avia_ajax_action=!1};return!1},add_element:function(e){var t=e.data.set,n=a(this),i=n.parents(".avia_dynamical_add_elements_container:eq(0)"),s=i.parents(".avia_subpage_container:eq(0)"),o=a("select.avia_dynamical_add_elements_select",i),r=a(".avia_loading",i);if(o.val()=="")return!1;if(avia_framework_globals.avia_ajax_action)return!1;avia_framework_globals.avia_ajax_action=!0;t.elementSlug=o.val();t.optionSlug=a("input.avia_dynamical_add_elements_parent",i).val();t.configFile=a("input.avia_dynamical_add_elements_config_file",i).val();t.action="avia_ajax_modify_set";t.context="custom_set";t.method="add";a.ajax({type:"POST",url:t.ajaxUrl,data:t,beforeSend:function(){n.addClass("avia_button_inactive");r.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1})},error:function(){a("body").avia_alert({the_class:"error",text:"Couldn't add the element because the server didn’t respond.<br/>Please wait a few seconds, then try again"});n.removeClass("avia_button_inactive")},success:function(e){var t=e.match(/\{avia_ajax_element\}(.+|\s+)\{\/avia_ajax_element\}/);if(t!=null){var n=a(t[1]).css("display","none");n.appendTo(s).slideDown(400,function(){n.avia_event_binding()});if(t[0]!=e){e=e.replace(t[0],"");a("body").avia_alert({the_class:"error",text:"Adding of element successful but the script generated unexpected output: <br/><br/> "+e,show:6000})}}
else{var i="Something went wrong, please try again in a few seconds.";if(e)i+="The script returned the following error: <br/><br/>"+e;a("body").avia_alert({the_class:"error",text:i})}},complete:function(a){r.fadeOut();avia_framework_globals.avia_ajax_action=!1;n.removeClass("avia_button_inactive")}});return!1},add_options_page:function(e){var t=e.data.set,i=a(this),n=i.parents(".avia_create_options_container:eq(0)"),o=a("input.avia_create_options_page_new_name",n),r=a(".avia_loading",n);if(i.is(".avia_button_inactive")){return!1};if(avia_framework_globals.avia_ajax_action)return!1;avia_framework_globals.avia_ajax_action=!0;t.action="avia_ajax_create_dynamic_options";t.method="add_option_page";t.name=o.val();t.icon=a("input.avia_create_options_page_temlate_icon",n).val();t.parent=a("input.avia_create_options_page_temlate_parent",n).val();t.defaul_elements=a(".avia_create_options_page_subelements_of",n).val();t.remove_label=a(".avia_create_options_page_temlate_remove_label",n).val();t.sortable=a(".avia_create_options_page_temlate_sortable",n).val();if(t.name==""){a("body").avia_alert({the_class:"error",text:"Ooops!<br/>You forgot to enter a Name for your template :)",show:2500});return!1};a.ajax({type:"POST",url:t.ajaxUrl,data:t,beforeSend:function(){i.addClass("avia_button_inactive");r.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1})},error:function(){a("body").avia_alert({the_class:"error",text:"Couldn't add the template because the server didn’t respond.<br/>Please wait a few seconds, then try again"});i.removeClass("avia_button_inactive");avia_framework_globals.avia_ajax_action=!1},success:function(e){var r=e.match(/\{avia_ajax_option_page\}(.+|\s+)\{\/avia_ajax_option_page\}/);if(r!=null){var t=a(r[1]).insertAfter(".avia_subpage_container:last");t.avia_create_option_navigation(!0);o.val("");a("body").avia_alert({text:"Template added!<br/> You can now select it in your sidebar and start adding elements",show:3500});var n=e.match(/\{avia_ajax_element\}(.+|\s+)\{\/avia_ajax_element\}/);if(n!=null){var s=a(n[1]).appendTo(t)};t.avia_event_binding();t.avia_edit_dynamic_templates()}
else if(e.match("invalid_data")){i.removeClass("avia_button_inactive");a("body").avia_alert({the_class:"error",text:"Sorry, the name is invalid.<br/>Please don’t use any special characters"})}
else if(e.match("name_already_exists")){i.removeClass("avia_button_inactive");a("body").avia_alert({the_class:"error",text:"Please choose a different Name:<br/>A template with this name already exists or is reserved for the theme-framework.",show:5000})}
else{i.removeClass("avia_button_inactive");a("body").avia_alert({the_class:"error",text:"Something went wrong, please try again in a few seconds."})};avia_framework_globals.avia_ajax_action=!1},complete:function(a){r.fadeOut()}});return!1}}})(jQuery);;jQuery(function(a){a('.avia_sortable').avia_edit_dynamic_templates()});(function(a){avia_framework_globals.avia_ajax_action=!1;a.fn.avia_edit_dynamic_templates=function(e){return this.each(function(){var e=a(this);if(e.length!=1)return;e.sortable({handle:'.avia-row-portlet-header',cancel:'a',items:'.avia_row',update:function(e,i){a('.avia_button_inactive').removeClass('avia_button_inactive')}});a('.avia-row-portlet-header').disableSelection();a('.avia-item-edit',e).on('click',function(){var i=a(this),t=i.parents('.avia_row:eq(0)'),e=a('.avia-portlet-content',t);if(e.is(':visible')){e.slideUp(200)}
else{e.slideDown(200)};return!1})})}})(jQuery);;jQuery(function(e){e('.avia_colorpicker').avia_color_picker_activation();e('body').avia_color_picker_autodetection()});(function(e){e.fn.avia_color_picker_autodetection=function(o){return this.each(function(){var o=e('.avia_autodetect').on('click',function(){var o=e(this).parents('.avia_control:eq(0)'),a=e('.avia_color_picker',o),c=e('.avia_color_picker_div',o),i=e('.avia_loading',o),t='#avia_'+this.hash.substring(1),r=this.id.split('-__-'),l=o.parents('.avia_visual_set:eq(0)').find('.avia_preview_pic');if(typeof r[1]!='undefined'){t=t+'-__-'+r[1]};var n=e(t+' .avia_upload_input').val();e.ajax({type:'POST',url:window.ajaxurl,data:'action=avia_ajax_get_image_color&attachment_id='+n,beforeSend:function(){i.css({display:'none',visibility:'visible'}).fadeIn(400)},success:function(e){i.fadeOut();if(e.length==7){c.css('backgroundColor',e);a.val(e);l.css('backgroundColor',e)}}});return!1})})}})(jQuery);(function(e){e.fn.avia_color_picker_activation=function(o){return this.each(function(){var o=e(this);if(!o.length)return;o.each(function(){var o=e(this).find('.avia_color_picker'),t=e(this).find('.avia_color_picker_div'),i=e(this).parents('.avia_visual_set:eq(0)').find('.avia_target_inside'),r=o.val(),n='#fff';if(r!=''){t.css('backgroundColor',r);n=r};o.AviaColorPicker({color:n,onShow:function(o){e(o).fadeIn(300);return!1},onHide:function(t){e(t).fadeOut(300);o.trigger('change');return!1},onChange:function(e,r,n){i.css('backgroundColor','#'+r);t.css('backgroundColor','#'+r);o.val('#'+r)}});i.css('backgroundColor',t.css('backgroundColor'));var a=e('#'+o.data('colorpickerId'));o.on('change keyup',function(){var r=e(this).val();if(r.length==7){i.css('backgroundColor',r);t.css('backgroundColor',r);o.val(r);a.find('.colorpicker_hex input').val(r).trigger('change')}})});e('.avia_color_picker_div').on('click',function(){e(this).prev('.avia_color_picker').trigger('click');return!1})})}})(jQuery);(function(e){var o=function(){var z={},D,h=65,R,w='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',x={eventName:'click',onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:'ff0000',livePreview:!0,flat:!1},o=function(o,t){var i=s(o);e(t).data('colorpicker').fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},n=function(o,t){e(t).data('colorpicker').fields.eq(4).val(o.h).end().eq(5).val(o.s).end().eq(6).val(o.b).end()},t=function(o,t){e(t).data('colorpicker').fields.eq(0).val(r(o)).end()},a=function(o,t){e(t).data('colorpicker').selector.css('backgroundColor','#'+r({h:o.h,s:100,b:100}));e(t).data('colorpicker').selectorIndic.css({left:parseInt(150*o.s/100,10),top:parseInt(150*(100-o.b)/100,10)})},c=function(o,t){e(t).data('colorpicker').hue.css('top',parseInt(150-150*o.h/360,10))},u=function(o,t){e(t).data('colorpicker').currentColor.css('backgroundColor','#'+r(o))},l=function(o,t){e(t).data('colorpicker').newColor.css('backgroundColor','#'+r(o))},I=function(o){var t=o.charCode||o.keyCode||-1;if((t>h&&t<=90)||t==32){return!1};var r=e(this).parent().parent();if(r.data('colorpicker').livePreview===!0){i.apply(this)}},i=function(i){var u=e(this).parent().parent(),h;if(this.parentNode.className.indexOf('_hex')>0){u.data('colorpicker').color=h=p(L(this.value))}
else if(this.parentNode.className.indexOf('_hsb')>0){u.data('colorpicker').color=h=f({h:parseInt(u.data('colorpicker').fields.eq(4).val(),10),s:parseInt(u.data('colorpicker').fields.eq(5).val(),10),b:parseInt(u.data('colorpicker').fields.eq(6).val(),10)})}
else{u.data('colorpicker').color=h=d(O({r:parseInt(u.data('colorpicker').fields.eq(1).val(),10),g:parseInt(u.data('colorpicker').fields.eq(2).val(),10),b:parseInt(u.data('colorpicker').fields.eq(3).val(),10)}))};if(i){o(h,u.get(0));t(h,u.get(0));n(h,u.get(0))};a(h,u.get(0));c(h,u.get(0));l(h,u.get(0));u.data('colorpicker').onChange.apply(u,[h,r(h),s(h)])},M=function(o){var t=e(this).parent().parent();t.data('colorpicker').fields.parent().removeClass('colorpicker_focus')},H=function(){h=this.parentNode.className.indexOf('_hex')>0?70:65;e(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');e(this).parent().addClass('colorpicker_focus')},P=function(o){var t=e(this).parent().find('input').focus(),i={el:e(this).parent().addClass('colorpicker_slider'),max:this.parentNode.className.indexOf('_hsb_h')>0?360:(this.parentNode.className.indexOf('_hsb')>0?100:255),y:o.pageY,field:t,val:parseInt(t.val(),10),preview:e(this).parent().parent().data('colorpicker').livePreview};e(document).on('mouseup',i,g);e(document).on('mousemove',i,v)},v=function(e){e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10))));if(e.data.preview){i.apply(e.data.field.get(0),[!0])};return!1},g=function(o){i.apply(o.data.field.get(0),[!0]);o.data.el.removeClass('colorpicker_slider').find('input').focus();e(document).off('mouseup',g);e(document).off('mousemove',v);return!1},W=function(o){var t={cal:e(this).parent(),y:e(this).offset().top};t.preview=t.cal.data('colorpicker').livePreview;e(document).on('mouseup',t,k);e(document).on('mousemove',t,m)},m=function(e){i.apply(e.data.cal.data('colorpicker').fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(e.pageY-e.data.y))))/150,10)).get(0),[e.data.preview]);return!1},k=function(i){o(i.data.cal.data('colorpicker').color,i.data.cal.get(0));t(i.data.cal.data('colorpicker').color,i.data.cal.get(0));e(document).off('mouseup',k);e(document).off('mousemove',m);return!1},j=function(o){var t={cal:e(this).parent(),pos:e(this).offset()};t.preview=t.cal.data('colorpicker').livePreview;e(document).on('mouseup',t,y);e(document).on('mousemove',t,b)},b=function(e){i.apply(e.data.cal.data('colorpicker').fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(e.pageY-e.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(e.pageX-e.data.pos.left))))/150,10)).get(0),[e.data.preview]);return!1},y=function(i){o(i.data.cal.data('colorpicker').color,i.data.cal.get(0));t(i.data.cal.data('colorpicker').color,i.data.cal.get(0));e(document).off('mouseup',y);e(document).off('mousemove',b);return!1},E=function(o){e(this).addClass('colorpicker_focus')},Q=function(o){e(this).removeClass('colorpicker_focus')},T=function(o){var t=e(this).parent(),i=t.data('colorpicker').color;t.data('colorpicker').origColor=i;u(i,t.get(0));t.data('colorpicker').onSubmit(i,r(i),s(i),t.data('colorpicker').el)},C=function(o){var t=e('#'+e(this).data('colorpickerId'));t.data('colorpicker').onBeforeShow.apply(this,[t.get(0)]);var a=e(this).offset(),i=q(),r=a.top+this.offsetHeight,n=a.left;if(r+176>i.t+i.h){r-=this.offsetHeight+176};if(n+356>i.l+i.w){n-=356};t.css({left:n+'px',top:r+'px'});if(t.data('colorpicker').onShow.apply(this,[t.get(0)])!=!1){t.show()};e(document).on('mousedown',{cal:t},S);return!1},S=function(o){if(e(o.target).data()&&e(o.target).data('colorpickerId')==o.data.cal.attr('id'))return;if(!N(o.data.cal.get(0),o.target,o.data.cal.get(0))){if(o.data.cal.data('colorpicker').onHide.apply(this,[o.data.cal.get(0)])!=!1){o.data.cal.hide()};e(document).off('mousedown',S)}},N=function(e,o,t){if(e==o){return!0};if(e.contains){return e.contains(o)};if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(o)&16)};var i=o.parentNode;while(i&&i!=t){if(i==e)return!0;i=i.parentNode};return!1},q=function(){var e=document.compatMode=='CSS1Compat';return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},f=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},O=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},L=function(e){var i=6-e.length;if(i>0){var o=[];for(var t=0;t<i;t++){o.push('0')};o.push(e);e=o.join('')};return e},Y=function(e){var e=parseInt(((e.indexOf('#')>-1)?e.substring(1):e),16);return{r:e>>16,g:(e&0x00FF00)>>8,b:(e&0x0000FF)}},p=function(e){return d(Y(e))},d=function(e){var o={h:0,s:0,b:0};var r=Math.min(e.r,e.g,e.b),t=Math.max(e.r,e.g,e.b),i=t-r;o.b=t;if(t!=0){};o.s=t!=0?255*i/t:0;if(o.s!=0){if(e.r==t){o.h=(e.g-e.b)/i}
else if(e.g==t){o.h=2+(e.b-e.r)/i}
else{o.h=4+(e.r-e.g)/i}}
else{o.h=-1};o.h*=60;if(o.h<0){o.h+=360};o.s*=100/255;o.b*=100/255;return o},s=function(e){var o={};var r=Math.round(e.h),c=Math.round(e.s*255/100),a=Math.round(e.b*255/100);if(c==0){o.r=o.g=o.b=a}
else{var t=a,i=(255-c)*a/255,n=(t-i)*(r%60)/60;if(r==360)r=0;if(r<60){o.r=t;o.b=i;o.g=i+n}
else if(r<120){o.g=t;o.b=i;o.r=t-n}
else if(r<180){o.g=t;o.r=i;o.b=i+n}
else if(r<240){o.b=t;o.r=i;o.g=t-n}
else if(r<300){o.b=t;o.g=i;o.r=i+n}
else if(r<360){o.r=t;o.g=i;o.b=t-n}
else{o.r=0;o.g=0;o.b=0}};return{r:Math.round(o.r),g:Math.round(o.g),b:Math.round(o.b)}},A=function(o){var t=[o.r.toString(16),o.g.toString(16),o.b.toString(16)];e.each(t,function(e,o){if(o.length==1){t[e]='0'+o}});return t.join('')},r=function(e){return A(s(e))},B=function(){var i=e(this).parent(),r=i.data('colorpicker').origColor;i.data('colorpicker').color=r;o(r,i.get(0));t(r,i.get(0));n(r,i.get(0));a(r,i.get(0));c(r,i.get(0));l(r,i.get(0))};return{init:function(r){r=e.extend({},x,r||{});if(typeof r.color=='string'){r.color=p(r.color)}
else if(r.color.r!=undefined&&r.color.g!=undefined&&r.color.b!=undefined){r.color=d(r.color)}
else if(r.color.h!=undefined&&r.color.s!=undefined&&r.color.b!=undefined){r.color=f(r.color)}
else{return this};return this.each(function(){if(!e(this).data('colorpickerId')){var d=e.extend({},r);d.origColor=r.color;var f='collorpicker_'+(parseInt(Math.random()*1000)+parseInt(Math.random()*1000));e(this).data('colorpickerId',f);var s=e(w).attr('id',f);if(d.flat){s.appendTo(this).show()}
else{s.appendTo(document.body)};d.fields=s.find('input').on('keyup',I).on('change',i).on('blur',M).on('focus',H);s.find('span').on('mousedown',P).end().find('>div.colorpicker_current_color').on('click',B);d.selector=s.find('div.colorpicker_color').on('mousedown',j);d.selectorIndic=d.selector.find('div div');d.el=this;d.hue=s.find('div.colorpicker_hue div');s.find('div.colorpicker_hue').on('mousedown',W);d.newColor=s.find('div.colorpicker_new_color');d.currentColor=s.find('div.colorpicker_current_color');s.data('colorpicker',d);s.find('div.colorpicker_submit').on('mouseenter',E).on('mouseleave',Q).on('click',T);o(d.color,s.get(0));n(d.color,s.get(0));t(d.color,s.get(0));c(d.color,s.get(0));a(d.color,s.get(0));u(d.color,s.get(0));l(d.color,s.get(0));if(d.flat){s.css({position:'relative',display:'block'})}
else{e(this).on(d.eventName,C)}}})},showPicker:function(){return this.each(function(){if(e(this).data('colorpickerId')){C.apply(this)}})},hidePicker:function(){return this.each(function(){if(e(this).data('colorpickerId')){e('#'+e(this).data('colorpickerId')).hide()}})},setColor:function(i){if(typeof i=='string'){i=p(i)}
else if(i.r!=undefined&&i.g!=undefined&&i.b!=undefined){i=d(i)}
else if(i.h!=undefined&&i.s!=undefined&&i.b!=undefined){i=f(i)}
else{return this};return this.each(function(){if(e(this).data('colorpickerId')){var r=e('#'+e(this).data('colorpickerId'));r.data('colorpicker').color=i;r.data('colorpicker').origColor=i;o(i,r.get(0));n(i,r.get(0));t(i,r.get(0));c(i,r.get(0));a(i,r.get(0));u(i,r.get(0));l(i,r.get(0))}})}}}();e.fn.extend({AviaColorPicker:o.init,AviaColorPickerHide:o.hidePicker,AviaColorPickerShow:o.showPicker,AviaColorPickerSetColor:o.setColor});var t=window.EYE=function(){var o={init:[]};return{init:function(){e.each(o.init,function(e,o){o.call()})},extend:function(e){for(var o in e){if(e[o]!=undefined){this[o]=e[o]}}},register:function(e,t){if(!o[t]){o[t]=[]};o[t].push(e)}}}();e(t.init)})(jQuery);(function(e){EYE.extend({getPosition:function(e,o){var r=0,n=0,i=e.style,c=!1;if(o&&jQuery.curCSS(e,'display')=='none'){var l=i.visibility,d=i.position;c=!0;i.visibility='hidden';i.display='block';i.position='absolute'};var t=e;if(t.getBoundingClientRect){var a=t.getBoundingClientRect();r=a.left+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)-2;n=a.top+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-2}
else{r=t.offsetLeft;n=t.offsetTop;t=t.offsetParent;if(e!=t){while(t){r+=t.offsetLeft;n+=t.offsetTop;t=t.offsetParent}};if(jQuery.browser.safari&&jQuery.curCSS(e,'position')=='absolute'){r-=document.body.offsetLeft;n-=document.body.offsetTop};t=e.parentNode;while(t&&t.tagName.toUpperCase()!='BODY'&&t.tagName.toUpperCase()!='HTML'){if(jQuery.curCSS(t,'display')!='inline'){r-=t.scrollLeft;n-=t.scrollTop};t=t.parentNode}};if(c==!0){i.display='none';i.position=d;i.visibility=l};return{x:r,y:n}},getSize:function(e){var a=parseInt(jQuery.curCSS(e,'width'),10),c=parseInt(jQuery.curCSS(e,'height'),10),t=0,i=0;if(jQuery.curCSS(e,'display')!='none'){t=e.offsetWidth;i=e.offsetHeight}
else{var o=e.style,r=o.visibility,n=o.position;o.visibility='hidden';o.display='block';o.position='absolute';t=e.offsetWidth;i=e.offsetHeight;o.display='none';o.position=n;o.visibility=r};return{w:a,h:c,wb:t,hb:i}},getClient:function(e){var t,i;if(e){i=e.clientWidth;t=e.clientHeight}
else{var o=document.documentElement;i=window.innerWidth||self.innerWidth||(o&&o.clientWidth)||document.body.clientWidth;t=window.innerHeight||self.innerHeight||(o&&o.clientHeight)||document.body.clientHeight};return{w:i,h:t}},getScroll:function(e){var o=0,t=0,i=0,r=0,n=0,a=0;if(e&&e.nodeName.toLowerCase()!='body'){o=e.scrollTop;t=e.scrollLeft;i=e.scrollWidth;r=e.scrollHeight}
else{if(document.documentElement){o=document.documentElement.scrollTop;t=document.documentElement.scrollLeft;i=document.documentElement.scrollWidth;r=document.documentElement.scrollHeight}
else if(document.body){o=document.body.scrollTop;t=document.body.scrollLeft;i=document.body.scrollWidth;r=document.body.scrollHeight};if(typeof pageYOffset!='undefined'){o=pageYOffset;t=pageXOffset};n=self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;a=self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0};return{t:o,l:t,w:i,h:r,iw:n,ih:a}},getMargins:function(e,o){var t=jQuery.curCSS(e,'marginTop')||'',i=jQuery.curCSS(e,'marginRight')||'',r=jQuery.curCSS(e,'marginBottom')||'',n=jQuery.curCSS(e,'marginLeft')||'';if(o)return{t:parseInt(t,10)||0,r:parseInt(i,10)||0,b:parseInt(r,10)||0,l:parseInt(n,10)};else return{t:t,r:i,b:r,l:n}},getPadding:function(e,o){var t=jQuery.curCSS(e,'paddingTop')||'',i=jQuery.curCSS(e,'paddingRight')||'',r=jQuery.curCSS(e,'paddingBottom')||'',n=jQuery.curCSS(e,'paddingLeft')||'';if(o)return{t:parseInt(t,10)||0,r:parseInt(i,10)||0,b:parseInt(r,10)||0,l:parseInt(n,10)};else return{t:t,r:i,b:r,l:n}},getBorder:function(e,o){var t=jQuery.curCSS(e,'borderTopWidth')||'',i=jQuery.curCSS(e,'borderRightWidth')||'',r=jQuery.curCSS(e,'borderBottomWidth')||'',n=jQuery.curCSS(e,'borderLeftWidth')||'';if(o)return{t:parseInt(t,10)||0,r:parseInt(i,10)||0,b:parseInt(r,10)||0,l:parseInt(n,10)||0};else return{t:t,r:i,b:r,l:n}},traverseDOM:function(e,o){o(e);e=e.firstChild;while(e){EYE.traverseDOM(e,o);e=e.nextSibling}},getInnerWidth:function(e,o){var t=e.offsetWidth;return o?Math.max(e.scrollWidth,t)-t+e.clientWidth:e.clientWidth},getInnerHeight:function(e,o){var t=e.offsetHeight;return o?Math.max(e.scrollHeight,t)-t+e.clientHeight:e.clientHeight},getExtraWidth:function(o){if(e.boxModel)return(parseInt(e.curCSS(o,'paddingLeft'))||0)+(parseInt(e.curCSS(o,'paddingRight'))||0)+(parseInt(e.curCSS(o,'borderLeftWidth'))||0)+(parseInt(e.curCSS(o,'borderRightWidth'))||0);return 0},getExtraHeight:function(o){if(e.boxModel)return(parseInt(e.curCSS(o,'paddingTop'))||0)+(parseInt(e.curCSS(o,'paddingBottom'))||0)+(parseInt(e.curCSS(o,'borderTopWidth'))||0)+(parseInt(e.curCSS(o,'borderBottomWidth'))||0);return 0},isChildOf:function(o,t,i){if(o==t){return!0};if(!t||!t.nodeType||t.nodeType!=1){return!1};if(o.contains&&!e.browser.safari){return o.contains(t)};if(o.compareDocumentPosition){return!!(o.compareDocumentPosition(t)&16)};var r=t.parentNode;while(r&&r!=i){if(r==o)return!0;r=r.parentNode};return!1},centerEl:function(o,t){var i=EYE.getScroll(),r=EYE.getSize(o);if(!t||t=='vertically')e(o).css({top:i.t+((Math.min(i.h,i.ih)-r.hb)/2)+'px'});if(!t||t=='horizontally')e(o).css({left:i.l+((Math.min(i.w,i.iw)-r.wb)/2)+'px'})}});if(!e.easing.easeout){e.easing.easeout=function(e,o,t,i,r){return-i*((o=o/r-1)*o*o*o-1)+t}}})(jQuery);(function(e){var t=function(){var r=window.location.hash.replace('#',''),i=e('ul.navigationTabs a').on('click',o).filter('a[rel="'+r+'"]');if(i.length==0){i=e('ul.navigationTabs a:first')};o.apply(i.get(0));e('#colorpickerHolder').AviaColorPicker({flat:!0});e('#colorpickerHolder2').AviaColorPicker({flat:!0,color:'#00ff00',onSubmit:function(o,t,i){e('#colorSelector2 div').css('backgroundColor','#'+t)}});e('#colorpickerHolder2>div').css('position','absolute');var t=!1;e('#colorSelector2').on('click',function(){e('#colorpickerHolder2').stop().animate({height:t?0:173},500);t=!t});e('#colorpickerField1, #colorpickerField2, #colorpickerField3').AviaColorPicker({onSubmit:function(o,t,i,r){e(r).val(t);e(r).AviaColorPickerHide()},onBeforeShow:function(){e(this).AviaColorPickerSetColor(this.value)}}).on('keyup',function(){e(this).AviaColorPickerSetColor(this.value)});e('#colorSelector').AviaColorPicker({color:'#0000ff',onShow:function(o){e(o).fadeIn(500);return!1},onHide:function(o){e(o).fadeOut(500);return!1},onChange:function(o,t,i){e('#colorSelector div').css('backgroundColor','#'+t)}})},o=function(o){var t=e('ul.navigationTabs a').removeClass('active').index(this);e(this).addClass('active');e('div.tab').hide().eq(t).show()};EYE.register(t,'init')})(jQuery);var avia_callback=avia_callback||{};jQuery(function(a){a('body').avia_event_listener();a('.avia_set').avia_clone_sets();a('.avia_required_container').not('.avia_delay_required .avia_required_container').avia_form_requirement();a('.avia_target_value').avia_target();a('.avia_link_controller').avia_prefill_options();a('.avia_onchange').avia_on_change();a('.avia_styling_wizard').avia_styling_wizard();a('.avia_verify_button').avia_verify_input();a('body').on('change','.avia_select_unify select',function(){var e=a(this);e.next('.avia_select_fake_val').text(e.find('option:selected').text())});a('.avia_select_unify select').not('.avia_multiple_select select').each(function(){var e=a(this);e.css('opacity',0).next('.avia_select_fake_val').text(e.find('option:selected').text())});var e=a('input[name=avia_options_first_call]','#avia_hidden_data');if(e.length){a('.avia_link_controller_active').trigger('click')}});var av_backend_maps_loaded,gm_authFailure;(function(a){avia_callback.gmaps_values={callback:!1,value:!1};avia_callback.av_maps_js_api_check=function(e,i){var n='https://maps.googleapis.com/maps/api/js?v=3.30&callback=av_backend_maps_loaded&key='+e;if('undefined'!=typeof avia_framework_globals.gmap_backend_maps_loaded&&avia_framework_globals.gmap_backend_maps_loaded!=''){n=avia_framework_globals.gmap_backend_maps_loaded+'&key='+e};var t=document.createElement('script');t.id='av-google-maps-api';t.type='text/javascript';t.src=n;t.onerror=av_google_maps_api_load_error;avia_callback.gmaps_values={callback:i,value:e};a('script[src*="maps.google"]').remove();google.maps=!1;document.body.appendChild(t)};av_google_maps_api_load_error=function(){var a='Google Maps API could not be loaded. We are not able to verify the key. Check your internet connection and try again.';if('undefined'!=typeof AviaMapData.api_load_error&&''!=AviaMapData.api_load_error){a=AviaMapData.api_load_error};avia_callback.gmaps_values.callback.call(this,'error');alert(a)};av_backend_maps_loaded=function(){var a=0,e='Stephansplatz 1 Vienna 1010 Austria',i=new google.maps.Geocoder();i.geocode({'address':e},function(e,i){if(i===google.maps.GeocoderStatus.OK){a=!0}
else if(i===google.maps.GeocoderStatus.REQUEST_DENIED){}
else{};avia_callback.gmaps_values.callback.call(this,a)})};gm_authFailure=function(){if(avia_callback.gmaps_values.callback){avia_callback.gmaps_values.callback.call(this,!1)}}})(jQuery);(function(a){avia_callback.av_recaptcha_values={callback:!1,version:'',sitekey:'',secretkey:'',container:!1,current_id:!1,widget_id:!1,monitor_check:!1,theme:'light'};avia_callback.av_recaptcha_js_api_check=function(e,i){var u=a(this),n=u.closest('.av-verify-button-container'),t=u.data('av-verify-fields'),p=!1,l='',r='',o='',v='',s='light';t=t.split(',');a('.av-recaptcha-callback-error').hide();l='https://www.google.com/recaptcha/api.js';if('undefined'!=typeof AviaReCAPTCHA_data.api&&''!=AviaReCAPTCHA_data.api){l=AviaReCAPTCHA_data.api};if('undefined'!=typeof AviaReCAPTCHA_data.theme&&''!=AviaReCAPTCHA_data.theme){s=AviaReCAPTCHA_data.theme};var f=u.attr('id').trim();if(f.indexOf('recaptcha_key_verify_v2')>=0){r='avia_recaptcha_v2'}
else if(f.indexOf('recaptcha_key_verify_v3')>=0){r='avia_recaptcha_v3'};switch(r){case'avia_recaptcha_v2':o='undefined'!=typeof t[1]?n.find('input[name="'+t[1]+'"]').val().trim():'';v='undefined'!=typeof t[2]?n.find('input[name="'+t[2]+'"]').val().trim():'';s='undefined'!=typeof t[5]?n.find('select[name="'+t[5]+'"]').find(':selected').attr('value').trim():'light';if(''==s){s='light'};l+='?onload=av_recaptcha_api_loaded&render=explicit';p=!0;break;case'avia_recaptcha_v3':o='undefined'!=typeof t[3]?n.find('input[name="'+t[3]+'"]').val().trim():'';v='undefined'!=typeof t[4]?n.find('input[name="'+t[4]+'"]').val().trim():'';l+='?onload=av_recaptcha_api_loaded&render='+o;break;default:r='';break};if(''==r||''==o||''==v){var d=(''==r)?AviaReCAPTCHA_data.invalid_version:AviaReCAPTCHA_data.invalid_keys;d='<div class="av-notice-error">'+d+'</div>';n.find('.av-verification-result').html(d);return!1};avia_callback.av_recaptcha_values.callback=i;avia_callback.av_recaptcha_values.version=r;avia_callback.av_recaptcha_values.sitekey=o,avia_callback.av_recaptcha_values.secretkey=v;avia_callback.av_recaptcha_values.container=n;avia_callback.av_recaptcha_values.current_id=!1;avia_callback.av_recaptcha_values.widget_id=!1;avia_callback.av_recaptcha_values.theme=s;a('script[src*="recaptcha/api.js"]').remove();a('#av-recaptcha-api-script').remove();var c=document.createElement('script');c.id='av-recaptcha-api-script';c.type='text/javascript';c.src=l;c.onerror=av_recaptcha_api_load_error;if(p){c.defer=!0};document.body.appendChild(c)};av_recaptcha_api_load_error=function(){var a='Google reCAPTCHA API could not be loaded. We are not able to verify keys. Check your internet connection and try again.';if('undefined'!=typeof AviaReCAPTCHA_data.v3_timeout&&''!=AviaReCAPTCHA_data.v3_timeout){a=AviaReCAPTCHA_data.api_load_error};avia_callback.av_recaptcha_values.callback.call(this,'error');alert(a)};av_recaptcha_api_loaded=function(){var i=avia_callback.av_recaptcha_values.container.find('.av-verification-result');if('avia_recaptcha_v2'==avia_callback.av_recaptcha_values.version){var a=av_recaptcha_unique_id(),e='<div id="'+a+'" class="av-recaptcha-verify"></div>';avia_callback.av_recaptcha_values.container.find('.av-verification-result').first().before(e);avia_callback.av_recaptcha_values.current_id=a;avia_callback.av_recaptcha_values.widget_id=grecaptcha.render(a,{'sitekey':avia_callback.av_recaptcha_values.sitekey,'callback':av_recaptcha_verify_VerifyCallback,'error-callback':av_recaptcha_verify_ErrorCallback,'theme':avia_callback.av_recaptcha_values.theme})}
else if('avia_recaptcha_v3'==avia_callback.av_recaptcha_values.version){grecaptcha.ready(function(){avia_callback.av_recaptcha_values.monitor_check=setTimeout(av_recaptcha_verify_MonitorVerify,5000);grecaptcha.execute(avia_callback.av_recaptcha_values.sitekey,{action:'verify_keys'}).then(av_recaptcha_verify_VerifyCallback)})}};av_recaptcha_verify_MonitorVerify=function(){avia_callback.av_recaptcha_values.monitor_check=!1;var a='A network timeout problem occured. Could be caused by an invalid V3 sitekey. Please recheck the key and try again.';if('undefined'!=typeof AviaReCAPTCHA_data.v3_timeout&&''!=AviaReCAPTCHA_data.v3_timeout){a=AviaReCAPTCHA_data.v3_timeout};avia_callback.av_recaptcha_values.callback.call(this,'error');alert(a)};av_recaptcha_verify_VerifyCallback=function(e){if(avia_callback.av_recaptcha_values.monitor_check!==!1){clearTimeout(avia_callback.av_recaptcha_values.monitor_check);avia_callback.av_recaptcha_values.monitor_check=!1};var i={token:e,version:avia_callback.av_recaptcha_values.version,sitekey:avia_callback.av_recaptcha_values.sitekey,secretkey:avia_callback.av_recaptcha_values.secretkey,current_id:avia_callback.av_recaptcha_values.current_id};a('#av-recaptcha-api-script').remove();if(!1!==avia_callback.av_recaptcha_values.widget_id){grecaptcha.reset(avia_callback.av_recaptcha_values.widget_id)};a('#'+avia_callback.av_recaptcha_values.current_id).remove();avia_callback.av_recaptcha_values.callback.call(this,i)};av_recaptcha_verify_ErrorCallback=function(){a('#'+avia_callback.av_recaptcha_values.current_id).addClass('av-recaptcha-callback-error');avia_callback.av_recaptcha_values.callback.call(this,'error')};av_recaptcha_unique_id=function(){var t=a('body'),n='av-verify-recaptcha-',i=0;do{var e=n+i;if(0==t.find('#'+e).length){return e};i++}
while(!0)}})(jQuery);(function(a){a.fn.avia_verify_input=function(e){var i=a(this);i.on('click',function(e){e.preventDefault();var i=a(this),c=i.parents('.avia_verification_field'),l=c.find('.avia_verify_input input'),o=c.find('.av-verification-result'),n='',d=i.data('av-verification-callback'),s=i.data('av-verification-callback-javascript'),u=a('#avia_hidden_data input[name=avia-nonce]').val(),f=a('#avia_hidden_data input[name=_wp_http_referer]').val(),t=a('.avia_header .avia_loading, .avia_footer .avia_loading'),p=!1;if(i.hasClass('avia_button_inactive')){return!1};var r=function(e){if('undefined'==typeof e){e=''};if('error'==e){t.fadeOut();i.removeClass('avia_button_inactive');return};a.ajax({type:'POST',url:window.ajaxurl,dataType:'json',cache:!1,data:{action:'avia_ajax_verify_input',key:l.attr('id'),avia_ajax:!0,value:n,js_value:e,callback:d,_wpnonce:u,_wp_http_referer:f},beforeSend:function(){t.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1});i.addClass('avia_button_inactive')},error:function(){o.html('Could not connect to the internet. Please reload the page and try again')},success:function(e){if(e.success!==!0){return};if('undefined'!=typeof e.update_input_fields){a.each(e.update_input_fields,function(e,i){a('input[name=\''+e+'\']').val(i)})};var i=e.html;if(i.indexOf('avia_trigger_save')!==-1){a('.avia_submit:eq(0)').removeClass('avia_button_inactive').trigger('click');i=i.replace('avia_trigger_save','')};o.html(i)},complete:function(a){t.fadeOut();i.removeClass('avia_button_inactive')}})};n=l.val();if(window.avia_callback[s]){t.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1});i.addClass('avia_button_inactive');var v=window.avia_callback[s].call(this,n,r);if(!1===v){t.fadeOut();i.removeClass('avia_button_inactive')}}
else{r()};return!1})}})(jQuery);(function(a){a.fn.avia_event_binding=function(e){return this.each(function(){if(window.parent&&window.parent.document&&e!='skip'){parent.jQuery(window.parent.document.body).trigger('avia_event_binding',[this]);return};var i=a(this);if(a.fn.avia_media_advanced_plugin)i.avia_media_advanced_plugin();if(a.fn.avia_color_picker_activation)i.avia_color_picker_activation();if(a.fn.avia_clone_sets)i.avia_clone_sets();if(a.fn.avia_form_requirement)a('.avia_required_container',i).not('.avia_delay_required .avia_required_container').avia_form_requirement();if(a.fn.avia_target)a('.avia_target_value',i).avia_target();if(a.fn.avia_prefill_options)a('.avia_link_controller',i).avia_prefill_options();if(a.fn.avia_on_change)a('.avia_on_change',i).avia_on_change();var t=a('.avia_submit'),n=a('input, select, textarea',i).not('.avia_button_inactive');n.on('keydown change',function(){t.removeClass('avia_button_inactive')});a('.avia_clone_set, .avia_remove_set, .avia_dynamical_add_elements',i).on('click',function(){t.removeClass('avia_button_inactive')});a('.avia_select_unify select').not('.avia_multiple_select select').css('opacity',0)})}})(jQuery);(function(a){a.fn.avia_event_listener=function(a){this.on('avia_event_binding',function(a,e){parent.jQuery(e).avia_event_binding('skip')})}})(jQuery);(function(a){var e={insertEL:function(i){var t=i.data.self,r=t.insertVal.val(),n='';if(!r)return!1;t.insertVal.val('').trigger('change');n=a(t.container.find('#avia-tmpl-wizard-'+r).html());n.css({display:'none'}).prependTo(t.insertContainer).slideDown();n.find('.av-wizard-subcontainer-colorpicker').avia_color_picker_activation();n.find('input, select, textarea').on('keydown change',function(){t.saveButton.removeClass('avia_button_inactive')});e.recalc(t.insertContainer);return!1},deleteEL:function(i){var t=i.data.self,n=a(this).parents('.av-wizard-element:eq(0)');n.slideUp(function(){n.remove();e.recalc(t.insertContainer)});t.insertVal.trigger('change');return!1},recalc:function(e){var i=e.find('.av-wizard-element');i.each(function(e){var i=a(this),t=i.find('[data-recalc]');t.each(function(){var i=a(this),t=i.data('recalc').replace('{counter}',e);i.attr('name',t)})})}};a.fn.avia_styling_wizard=function(i){return this.each(function(){var i={};i.container=a(this);i.insertContainer=i.container.find('.av-wizard-element-container');i.insertBtn=i.container.find('.add_wizard_el_button');i.insertVal=i.container.find('.add_wizard_el');i.saveButton=a('.avia_submit');i.insertBtn.on('click',{self:i},e.insertEL);i.container.on('click','.avia_remove_wizard_set',{self:i},e.deleteEL)})}})(jQuery);(function(a){a.fn.avia_on_change=function(e){return this.each(function(){var e=a(this),i=e.data('avia-onchange'),t={avia_add_google_font:function(){var t=a(this),e=t.val(),n=t.parents('.avia_control:eq(0)'),r=n.find('.webfont_'+this.id).remove();if(!e)return;var c=e.replace(/ /g,'+',e),i='';if(e.indexOf('-websave')!=-1){e=e.replace(/-websave/g,'',e);e=e.replace(/-/g,'',e);i='<style type="text/css">.webfont_'+this.id+'{font-family:\''+e.replace(/:(\d+)$/,'')+'\';}</style>'}
else if(e.indexOf('-custom')!=-1){e=e.replace(/-custom/g,'',e);i='<style type="text/css">.webfont_'+this.id+'{font-family:\''+e+'\';}</style>'}
else{i='<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family='+c+'" /> <style type="text/css">.webfont_'+this.id+'{font-family:\''+e.replace(/:(.+)$/,'')+'\';}</style>'};r=a('<div class="webfont_'+this.id+'">'+i+'</div>');r.appendTo(n)}};e.on('change',t[i]).trigger('change')})}})(jQuery);(function(a){a.fn.avia_prefill_options=function(e){return this.each(function(){var t=a(this),n=t.parents('.avia_section:eq(0)').find('.avia_link_controller'),i=t.data(),e='',r={apply:function(){n.removeClass('avia_link_controller_active');t.addClass('avia_link_controller_active');for(e in i){if(typeof i[e]=='string'||typeof i[e]=='number'||typeof i[e]=='boolean'){var c=e.replace(/([A-Z])/g,'-$1').toLowerCase(),r=a('#'+c);if(r.length){if(r.is('input[type=text]')||r.is('input[type=hidden]')||r.is('select')){if(i[e]!=''&&r.is('[data-baseurl]')){i[e]=i[e].replace(r.data('baseurl'),'{{AVIA_BASE_URL}}')};r.val(i[e]).trigger('change')}}}};return!1}};t.on('click',r.apply)})}})(jQuery);(function(a){a.fn.avia_target=function(e){return this.each(function(){var s=a(this),i=s.parents('.avia_section:eq(0)'),v=i.find('[data-baseurl]'),c='',t='',d='',n=s.val().split('::'),l=a('#avia_'+n[0]);if(!l.length)l=a(n[0]);var e=a(n[1],l),r=n[2];if(v.length)c=v.data('baseurl');var o={apply:function(){var a=t.val(),s=!1,n=[],v=t.attr('id');if(i.is('.avia_checkbox')&&!t.is(':checked')){a=''};if(a!=''&&a!=null&&c){ a=a.replace('{{AVIA_BASE_URL}}',c)};if(r.indexOf(',')>=0){n=r.split(',')}
else{n=[r]};for(var o in n){if(i.css('display')!='block'){a='';s=!0};switch(n[o]){case'background-color':e.css({'background-color':a});break;case'background-image':if(!s)e.css({'background-image':'url('+a+')'});break;case'border-color':e.css({'border-color':a});break;case'color':e.css({'color':a});break;case'set_class':e.attr({'class':a});break;case'set_data':e.attr('data-'+v,a);break;case'set_id':e.attr({'id':a.replace(/\./,'-')});break;case'set_id_single':e.attr({'id':a.split(' ')[0]});break;case'set_active':if(a!=''){e.addClass('av-active')}
else{e.removeClass('av-active')};break;case'width':e.css({'width':a+'%'});break;default:var l={};l[n[o]]=a;e.css(l);break}}}};if(i.is('.avia_select')|| i.is('.avia_select_sidebar')){t=i.find('select')};if(i.is('.avia_colorpicker')){t=i.find('.avia_color_picker')};if(i.is('.avia_upload')){t=i.find('.avia_upload_input')};if(i.is('.avia_checkbox')){t=i.find('input[type=checkbox]')};if(typeof t!='string'){t.on('change',function(){o.apply()})};setTimeout(function(){o.apply()},200)})}})(jQuery);(function(a){a.fn.avia_form_requirement=function(i){return this.each(function(){var i=a(this),t={el:i,elHeight:i.css({display:'block',height:'auto'}).height(),elPadd:{top:i.css('paddingTop'),bottom:i.css('paddingBottom')},required:a('.avia_required',this).val().split('::')};var l=a('.avia_required',this).parents('.avia_section:eq(0)').attr('id');if(typeof l!='string')l=a('.avia_required',this).parents('.avia_visual_set:eq(0)').attr('id');var r=l.split('-__-');if(typeof r[1]!='undefined'){r=r[r.length-1]}
else{r=r[0]};i.css({display:'none'});var c=i.siblings('div[id$='+t.required[0]+']');if(c.length==0)c=i.parents('.inside').find('div[id$='+t.required[0]+']');var n=a(':input[name$='+t.required[0]+']',c);if(n.length==0)n=a(':input[name$='+t.required[0]+']');if(i.is('.inactive_visible')){a('<div class="avia_inactive_overlay"><span>'+i.data('group-inactive')+'</span></div>').appendTo(i)};if(n.is(':checkbox')){var s=t.required[1]=='{false}'||t.required[1]=='';if((n.prop('checked')&&!s)||(!n.prop('checked')&&s)){if(i.is('.inactive_visible')){i.addClass('avia_visible')}
else{i.css({display:'block'})}}}
else{var o=!1;if(t.required[1].indexOf('{contains_array}')!==-1){var v=t.required[1].replace('{contains_array}','').split(';');a.each(v,function(a,e){if(n.val().indexOf(e)!==-1){o=!0;return!1}})};if(n.val()==t.required[1]||(n.val()!=''&&t.required[1]=='{true}')||(n.val()==''&&t.required[1]=='{false}')||(t.required[1].indexOf('{contains}')!==-1&&n.val().indexOf(t.required[1].replace('{contains}',''))!==-1)||(t.required[1].indexOf('{higher_than}')!==-1&&parseInt(n.val())>=parseInt((t.required[1].replace('{higher_than}',''))))||o){if(i.is('.inactive_visible')){i.addClass('avia_visible')}
else{i.css({display:'block'})}}};n.on('change',{set:t},e.change)})};var e={change:function(e){var i=e.data.set,n=a(this),t=n.val(),c=!1,l=n.is(':checkbox'),r=!1;if(l){if(n.prop('checked')){t=t!=''?t:'{true}';r=i.required[1]!='{false}'&&i.required[1]!=''}
else{t='{false}';r=i.required[1]=='{false}'||i.required[1]==''}};if(i.required[1].indexOf('{contains_array}')!==-1){var s=i.required[1].replace('{contains_array}','').split(';');a.each(s,function(a,e){if(t.indexOf(e)!==-1){c=!0;return!1}})};if(t==i.required[1]||(!l&&(t!=''&&i.required[1]=='{true}')||(t==''&&i.required[1]=='{false}'))||(i.required[1].indexOf('{contains}')!==-1&&t.indexOf(i.required[1].replace('{contains}',''))!==-1)||(i.required[1].indexOf('{higher_than}')!==-1&&parseInt(t)>=parseInt((i.required[1].replace('{higher_than}',''))))||c||r){if(i.el.is('.inactive_visible')){i.el.addClass('avia_visible');return};if(i.el.css('display')=='none'){if(i.elHeight==0){i.elHeight=i.el.css({visibility:'hidden',position:'absolute'}).height()};i.el.css({height:0,opacity:0,overflow:'hidden',display:'block',paddingBottom:0,paddingTop:0,visibility:'visible',position:'relative'}).animate({height:i.elHeight,opacity:1,paddingTop:i.elPadd.top,paddingBottom:i.elPadd.bottom},function(){i.el.css({overflow:'visible',height:'auto'})})}}
else{if(i.el.is('.inactive_visible')){i.el.removeClass('avia_visible');return};if(i.el.css('display')=='block'){if(i.el.is('.set_blank_on_hide')){var o=i.el.find('.set_blank_on_hide');o.val('').trigger('change')};i.el.css({overflow:'hidden'}).animate({height:0,opacity:0,paddingBottom:0,paddingTop:0},function(){i.el.css({display:'none',overflow:'visible',height:'auto'})})}}}}})(jQuery);(function(a){a.fn.avia_clone_sets=function(e){return this.each(function(){var n=a(this);if(n.length!=1)return;var e=a('#avia_hidden_data'),t={container:n,createButton:a('.avia_clone_set',this),removeButton:a('.avia_remove_set',this),nonce:a('input[name=avia-nonce]',e).val(),ajaxUrl:a('input[name=admin_ajax_url]',e).val(),ref:a('input[name=_wp_http_referer]',e).val(),prefix:a('input[name=avia_options_prefix]',e).val(),meta_active:a('input[name=meta_active]',e)};t.createButton.off('click').on('click',{set:t},i.add);t.removeButton.off('click').on('click',{set:t},i.remove)})};var e=!1,i={add:function(t){if(e)return!1;e=!0;var r=t.data.set,c=a(this),l=c.prev('.avia_clone_loading'),s=c.parents('.avia_set:eq(0)'),v=c.parents('.avia_set:eq(1)').not('.avia_tab_container'),n=s.attr('id');if(v.length==1){var d=v.attr('id');n=n.replace(d+'-__-','').replace(/-__-\d+/,'')}
else{n=n.replace('avia_','').replace(/-__-\d+/,'')};var o='options_page';if(r.meta_active.length)o='metabox';a.ajax({type:'POST',url:r.ajaxUrl,data:{action:'avia_ajax_modify_set',method:'add',elementSlug:n,context:o,_wpnonce:a('input[name=avia-nonce]').val(),_wp_http_referer:a('input[name=_wp_http_referer]').val(),},beforeSend:function(){l.fadeIn(300)},error:function(){a('body').avia_alert({the_class:'error',text:'Couldnt connect to your Server <br/> Please wait a few seconds and try again',show:4500});l.fadeOut(300)},success:function(e){var n=e.match(/\{avia_ajax_element\}(.+|\s+)\{\/avia_ajax_element\}/);if(n!=null){var t=a(n[1]).css('display','none');i.setBlank(t);t.insertAfter(s).slideDown(400,function(){r.currentSet=t;i.recalcIds(r);t.avia_event_binding()});if(n[0]!=e){e=e.replace(n[0],'');a('body').avia_alert({the_class:'error',text:'Adding of element successful but the script generated unexpected output: <br/><br/> '+e,show:6000})}}},complete:function(a){l.fadeOut(300);e=!1}});return!1},remove:function(t){if(e)return!1;e=!0;var n=t.data.set,c=a(this),r=c.parents('.avia_set:eq(0)'),l=r.attr('id').replace(/-__-\d+$/,'-__-');n.setsToCount=r.siblings('.avia_set').filter('[id*='+l+']');if(n.setsToCount.length||n.removeButton.is('.remove_all_allowed')){n.currentSet=n.setsToCount.filter(':eq(0)');r.slideUp(400,function(){r.remove();i.recalcIds(n);e=!1})}
else{i.setBlank(r);n.setsToCount=!1;e=!1};return!1},setBlank:function(e){a('input:text, input:hidden, textarea',e).not('.avia_upload_insert_label, .avia_required').val('').trigger('change');a('input:checkbox, input:radio, select',e).removeAttr('checked').removeAttr('selected').trigger('change');a('.avia_preview_pic, .avia_color_picker_div',e).html('').css({backgroundColor:'transparent'})},recalcIds:function(a){avia_recalcIds(a)}};avia_recalcIds=function(e){if(!e.setsToCount){var c=e.container.attr('id').replace(/-__-\d+$/,'-__-');e.setsToCount=e.currentSet.siblings('.avia_set').filter('[id*='+c+']').add(e.currentSet)};var n=e.currentSet.parents('.avia_set:eq(0)').not('.avia_tab_container'),t='',i,r;if(typeof e.detach=='string'){i=e.currentSet.parents(e.detach+':eq(0)');r=i.parent();i.detach()};if(n.length==1){t=e.currentSet.attr('id').replace('avia_','');t=n.attr('id')+'-__-'+t.replace(/\d+$/,'')}
else{if(e.currentSet.attr('id')){t=e.currentSet.attr('id').replace(/\d+$/,'')}};e.setsToCount.each(function(e){var r=a(this),i=a('[id*=-__-], [name*=-__-]',this),n=t+e;this.id=n;i.each(function(){var r=a(this),i=this.id,c=r.parents('.avia_set:eq(0)'),t=c[0].id.replace('avia_',''),e=i.match(/[a-z0-9](-__-[-_a-zA-Z0-9]+-__-\d+)$/);if(e==null){var n=/.+-__-([-_a-zA-Z0-9]+)$/;e=n.exec(i);id_string=t+'-__-'+e[1];if(this.name){this.name=id_string}
else{id_string='avia_'+id_string};this.id=id_string}
else{el_attr_array=e[1];this.id='avia_'+t+el_attr_array}})});e.setsToCount='';if(typeof i!='undefined'&&i.length){i.prependTo(r)};return}})(jQuery);(function(a){a.fn.avia_instant_editor=function(e){'use strict';var n=a(window),t=!1,r={'class':'avia_default_instant_editor',elements:'td',input:{avia_text:'textarea'},output:'',start:'click',appendTo:!1,special_buttons:!1},i={bind_event:function(a){var e=a.options;a.off('.avia_instant_edit',e.elements);a.on(e.start+'.avia_instant_edit',e.elements,function(e){i.show_editor(this,a,e)});a.on('click.avia_instant_edit','.avia_editor_button',function(e){i.insert_button_shortcode(this,a,e)});n.off('.avia_instant_edit_keyup').on('keyup.avia_instant_edit_keyup',function(e){i.key_binds(this,a,e)})},key_binds:function(a,e,i){var o=e.options;switch(i.keyCode){case 9:if(t&&t.length){var r=e.find(o.elements),l=r.index(t),c=i.shiftKey?-1:1,n=r.filter(':eq('+(l+c)+')');if(!n.length){if(c==1){n=r.filter(':eq(0)')}
else{n=r.filter(':last')}};n.trigger('click');i.stopPropagation();i.preventDefault();t=n};break}},insert_button_shortcode:function(e,i,t){t.stopPropagation();t.preventDefault();var l=e.hash.substring(1),r=i.options.special_buttons[l].code,n=a(e).parents('.avia_instant_editor:eq(0)').find(':input:eq(0)'),c=n.val();if(c=='Edit'){n.val(r)}
else{n.val(c+r)}},show_editor:function(e,r,l){l.stopPropagation();var c=a(e);if(!c.is('.avia_active_editor')){var o=c.html(),s=i.form_builder(r,o);c.addClass('avia_active_editor').html(s);c.find(':input:eq(0)').focus().select();n.trigger('click');i.closeListener(r,c);t=c}},close_editor:function(a,e){if(a.options.output==''){var r,c=a.options.input,i='';for(r in c){i+=e.find(c[r]).val()};i=i.replace(/\n/g,'</br>');e.html(i).removeClass('avia_active_editor');n.off('.avia_instant_edit');t=!1}},form_builder:function(a,e){var n,r=a.options.input,t='<div class=\'avia_instant_editor '+a.options['class']+'\'>';t+=i.button_builder(a);for(n in r){t+=i[r[n]].call(this,n,e)};t+='</div>';return t},button_builder:function(a){var i=a.options.special_buttons,e,t='';for(e in i){t+='<a href=\'#'+e+'\' class=\'avia_editor_button '+e+'\'>'+i[e].label+'</a>'};return t},textarea:function(a,e){e=e.replace(/<\/br>/g,'\n').replace(/<br>/g,'\n');return'<textarea class=\''+a+'\'>'+e+'</textarea>'},input:function(a,e){return'<input class=\''+a+'\' value=\''+e+'\' />'},closeListener:function(a,e){n.off('.avia_instant_edit').on(a.options.start+'.avia_instant_edit',function(t){if(e.get(0)!=t.target){i.close_editor(a,e)}})}};return this.each(function(){var t=a(this);t.options=a.extend({},r,e);i.bind_event(t)})}})(jQuery);(function(e){var t=function(){this.widget_wrap=e('.widget-liquid-right');this.widget_area=e('#widgets-right');this.widget_add=e('#avia-tmpl-add-widget');this.create_form();this.add_del_button();this.bind_events()};t.prototype={create_form:function(){this.widget_wrap.append(this.widget_add.html());this.widget_name=this.widget_wrap.find('input[name="avia-sidebar-widgets"]');this.nonce=this.widget_wrap.find('input[name="avia-delete-custom-sidebar-nonce"]').val()},add_del_button:function(){this.widget_area.find('.sidebar-avia-custom').append('<span class="avia-custom-sidebar-area-delete"></span>')},bind_events:function(){this.widget_wrap.on('click','.avia-custom-sidebar-area-delete',e.proxy(this.delete_sidebar,this))},delete_sidebar:function(t){var c=confirm('Do you really want to delete this widget area?');if(c==!1)return!1;var i=e(t.currentTarget).parents('.widgets-holder-wrap:eq(0)'),a=i.find('.sidebar-name h3 , .sidebar-name h2'),n=a.find('.spinner'),o=e.trim(a.text()),d=this;e.ajax({type:'POST',url:window.ajaxurl,data:{action:'avia_ajax_delete_custom_sidebar',name:o,_wpnonce:d.nonce},beforeSend:function(){n.addClass('activate_spinner')},success:function(t){if(t=='sidebar-deleted'){i.slideUp(200,function(){e('.widget-control-remove',i).trigger('click');i.remove()})}}})}};e(function(){new t()})})(jQuery);(function(e){var i=null,t=function(){i=this;this.body=e('body');this.bind_events();this.body.find('form .widget-content .avia-coditional-widget-select').trigger('change')};t.prototype={bind_events:function(){this.body.on('change','form .widget-content .avia-coditional-widget-select',this.select_changed);e(document).on('widget-updated',function(){var i=e(this.activeElement),t=i.closest('form').find('.avia-coditional-widget-select');if(t.length>0){t.trigger('change')}})},select_changed:function(t){var i=e(this),a=i.closest('.avia_widget_conditional_form').first();i.find('option').each(function(){var t=e(this).val();a.removeClass(t)});var n=i.find('option:selected'),o=n.val();a.addClass(o)}};e(function(){new t()})})(jQuery);(function(e){var t=function(){var t=this;e(document).on('widget-added',function(){t.check_colorpickers()});e(document).on('widget-updated',function(i){var n=e(this.activeElement),a=n.closest('form'),o=a.closest('div.widgets-sortables'),d=a.find('.avia_color_picker.avia-colorpicker-attached');d.removeClass('avia-colorpicker-attached').addClass('avia-colorpicker-to-attach');t.check_colorpickers(o)})};t.prototype={check_colorpickers:function(t){var i='undefined'!=typeof t?t:e('div.widgets-sortables');if(i.length==0){return};var a=i.find('.avia_color_picker.avia-colorpicker-to-attach');a.each(function(t){var i=e(this);i.removeClass('avia-colorpicker-to-attach').addClass('avia-colorpicker-attached');i.closest('.avia_colorpicker_style_wrap').avia_color_picker_activation()})}};var i=new t()})(jQuery);;jQuery(function(a){a('#avia_options_page').avia_framework_option_pages();a('#avia_options_page').avia_create_option_navigation();a('#avia_options_page .avia_tab_container').avia_media_advanced_plugin();a('body').avia_popups();a('body').trigger('avia_options_page_loaded')});(function(a){a.fn.avia_create_option_navigation=function(e){return this.each(function(){if(!a('#avia_options_page').length)return;var e=a(this),i=a('.avia_options_container',e),n=a('.avia_section_header',e),o=a('.avia_sidebar_content'),t=window.location.hash.replace(/^\#goto_/,'avia_'),r=a('.avia_subpage_container',e).filter('[id="'+t+'"]');n.each(function(){var i=a(this),e=i.parent('.avia_subpage_container'),n=e.attr('id').replace(/^\avia_/,'goto_');if(r.length){if(e.is('#'+t)){i.addClass('avia_active_nav');a('.avia_subpage_container').removeClass('avia_active_container');e.addClass('avia_active_container')}}
else{if(e.is(':visible')){i.addClass('avia_active_nav')}};i.clone(!1).appendTo(o).css({display:'block'}).addClass(n).click(function(){if(!e.is(':visible')){a('.avia_subpage_container').removeClass('avia_active_container');e.addClass('avia_active_container');a('.avia_active_nav').removeClass('avia_active_nav');a(this).addClass('avia_active_nav')}})});i.find('a[href*="goto_"]').on('click',function(){a(this.hash.replace('#','.')).trigger('click');return!1})})}})(jQuery);(function(a){a.fn.avia_framework_option_pages=function(t){return this.each(function(){var n=a(this);if(n.length!=1)return;var o=a('.avia_submit',this),r=a('.avia_reset',this),s=a('.avia_reset_selected',this),c=a('.avia_import_button',this),l=a('.avia_import_parent_button',this),t=a('#avia_hidden_data',this),i={container:a(this),ajaxUrl:a('input[name=admin_ajax_url]',t).val(),prefix:a('input[name=avia_options_prefix]',t).val(),optionSlug:a('input[name=avia_options_page_slug]',t).val(),action:a('input[name=action]',t).val(),actionReset:a('input[name=resetaction]',t).val(),nonce:a('input[name=avia-nonce]',t).val(),nonceReset:a('input[name=avia-nonce-reset]',t).val(),nonceImport:a('input[name=avia-nonce-import]',n).val(),nonceImportParent:a('input[name=avia-nonce-import-parent]',n).val(),ref:a('input[name=_wp_http_referer]',t).val(),first_call:a('input[name=avia_options_first_call]',t),saveButtons:o,object:e};o.on('click',{set:i},e.save);r.on('click',{set:i},e.reset);s.on('click',{set:i},e.resetSelected);c.on('click',{set:i},e.do_import);l.on('click',{set:i},e.do_parent_import);e.activateSaveButton(n);e.activateResetAllButton(n,r);e.sidebarToggle(n);if(i.first_call.length>0){setTimeout(function(){e.save(i,!0)},1000)}})};var e={sidebarToggle:function(e){var t=a('.avia_shop_option_link',e),i=a('.avia_options_page_inner',e),n=a('.avia_subpage_container',e);value=t.text();t.click(function(){if(i.is('.avia_sidebar_active')){i.removeClass('avia_sidebar_active');t.html('[-]')}
else{i.addClass('avia_sidebar_active');t.html(value)};return!1})},activateResetAllButton:function(e,t){var i=e.find('select[name="reset_options_button"]');if(i.length==0){return};i.on('change',function(){var e=a(this).children('option:selected').val();if(''==e){t.removeClass('avia_hidden avia_reset_inactive').addClass('avia_reset_active')}
else{t.removeClass('avia_reset_active').addClass('avia_hidden avia_reset_inactive')}});i.trigger('change')},activateSaveButton:function(e){var t=a('.avia_header .avia_button_inactive, .avia_footer .avia_button_inactive'),i=a('input, select, textarea',e).not('.avia_button_inactive').not('.avia_dont_activate_save_buttons');i.on('keydown change',function(){t.removeClass('avia_button_inactive')});a('.avia_clone_set, .avia_remove_set, .avia_dynamical_add_elements').on('click',function(){t.removeClass('avia_button_inactive')})},save:function(e,t){if(typeof t=='undefined')t=!1;var i=t==!0?e:e.data.set,l=a(this),v=a('input:text, input:hidden, input:radio:checked, input:checkbox, select, textarea','.avia_options_container'),n='',c=!1;if(l.is('.avia_button_inactive')&&!t)return!1;v.each(function(){var e=a(this),t=e.val(),i=e.attr('name');if(i!=''){if(e.is('input:checkbox')&&!e.is('input:checked')){t='disabled'};n+='&'+i+'='+encodeURIComponent(t)}});n=n.substr(1);var o='',r=a('.avia_section, .avia_set').not('.avia_single_set .avia_section'),s='';if(r.length&&a('.avia_row').length){r.each(function(){s=this.id.replace(/^avia_/,'').replace(/-__-0$/,'');o+=s+'-__-'})};a.ajax({type:'POST',url:i.ajaxUrl,data:{action:i.action,_wpnonce:i.nonce,_wp_http_referer:i.ref,prefix:i.prefix,slug:i.optionSlug,data:n,dynamicOrder:o},beforeSend:function(){if(t)return;a('.avia_header .avia_loading, .avia_footer .avia_loading',i.container).css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1});i.saveButtons.addClass('avia_button_inactive')},error:function(){if(t)return;a('body').avia_alert({the_class:'error',text:'Saving didnt work! <br/> Please reload the page and try again',show:4500});i.saveButtons.removeClass('avia_button_inactive')},success:function(e){if(t)return;if(e.match('avia_save')){a('body').avia_alert();c=!0}
else{var n='';if(e.length>3){n='Saving didnt work! <br/>The script returned the following error: <br/><br/>'+e}
else{n='Saving didnt work! <br/> Please reload the page and try again'};a('body').avia_alert({the_class:'error',text:n,show:4500});i.saveButtons.removeClass('avia_button_inactive')}},complete:function(e){if(t)return;a('.avia_loading',i.container).fadeOut();var n={success:c};a('body').trigger('avia_options_data_saved',n)}});return!1},do_parent_import:function(e){var i=a(this),t=e.data.set,n=a('.avia_import_parent_wait',t.container),r='',o=!0;if(i.is('.avia_button_inactive'))return!1;o=confirm('Importing the Parent Theme Settings will overwrite your current Settings. Proceed anyways?');if(o==!1)return!1;a.ajax({type:'POST',url:t.ajaxUrl,data:{action:'avia_ajax_import_parent_settings',_wpnonce:t.nonceImportParent,_wp_http_referer:t.ref},beforeSend:function(){a('.avia_import_loading_parent',t.container).css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1});i.addClass('avia_button_inactive');n.slideDown()},error:function(){a('body').avia_alert({the_class:'error',text:'Importing didnt work! <br/> You might want to try reloading the page and then try again',show:4500});i.removeClass('avia_button_inactive')},success:function(e){if(e.match('avia_import')){var n=a('.avia_import_result_parent',t.container);a('body').avia_alert({text:'Alright!<br/>Import worked out, no problems whatsoever. <br/>The page will now be reloaded to reflect the changes'},function(){window.location.hash='#wpwrap';window.location.reload(!0)})}
else{i.removeClass('avia_button_inactive');a('body').avia_alert({the_class:'error',text:'Importing didnt work! <br/> You might want to try reloading the page and then try again <br/> (The script returned the following message: <br/><br/>'+e+')',show:4500})}},complete:function(e){a('.avia_import_loading_parent',t.container).fadeOut();n.slideUp()}});return!1},do_import:function(e){var t=a(this),i=e.data.set,n=t.parents('.avia_section').eq(0),o=a('.avia_import_wait',n),c='',r=!0,s='Importing the dummy data will overwrite your current Theme Option settings and delete any custom Templates you have built with the template Builder. Proceed anyways?';if(t.is('.avia_button_inactive'))return!1;if(t.is('.avia_import_image'))s='Importing the dummy data will overwrite your current Theme Option settings. Proceed anyways?';r=confirm(s);if(r==!1)return!1;a.ajax({type:'POST',url:i.ajaxUrl,data:{action:'avia_ajax_import_data',_wpnonce:i.nonceImport,_wp_http_referer:i.ref,files:t.data('files')},beforeSend:function(){a('.avia_import_loading',n).css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1});t.addClass('avia_button_inactive');o.slideDown()},error:function(){a('body').avia_alert({the_class:'error',text:'Importing didnt work! <br/> You might want to try reloading the page and then try again',show:4500});t.removeClass('avia_button_inactive')},success:function(e){if(e.match('avia_import')){e=e.replace('avia_import','').replace('<p>Remember to update the passwords and roles of imported users.</p>','');var n=a('.avia_import_result',i.container);a('body').avia_alert({text:'Alright!<br/>Import worked out, no problems whatsoever. <br/>The page will now be reloaded to reflect the changes'},function(){window.location.hash='#wpwrap';window.location.reload(!0)})}
else{t.removeClass('avia_button_inactive');a('body').avia_alert({the_class:'error',text:'Importing didnt work! <br/> You might want to try reloading the page and then try again <br/> (The script returned the following message: <br/><br/>'+e+')',show:4500})}},complete:function(e){a('.avia_import_loading',n).fadeOut();o.slideUp()}});return!1},resetSelected:function(e){e.preventDefault();var t=a(this),c=['filter_tabs','filter_values','skip_tabs','skip_values'],i={};var r=!1,s=t.data();a.each(c,function(a,e){if('undefined'!=typeof s[e]){i[e]=s[e];r=!0}});if(!r){var o=t.closest('#avia_upload');if(o.find('input#reset_filter_checkbox:checked').length>0){if(o.find('input#reset_keep_quick_css:checked').length>0){i.skip_values='avia:quick_css'};var n=o.find('select#reset_filter_tabs').val();if(null!=n&&n.length>0){i.filter_tabs=n.join(',')}}};e.data.set.filter=i;e.data.set.button_id='undefined'!=typeof(t.attr('id'))?t.attr('id'):'';e.data.set.object.reset.call(this,e)},reset:function(e){var t=e.data.set,r=t.container.find('.avia_reset');if(r.hasClass('avia_reset_inactive')){alert('Reset of theme options has been blocked by option settings - no options have been changed.');return!1};var o='undefined'!=typeof(t.filter)?t.filter:{};var i='undefined'!=typeof(t.button_id)?t.button_id:'',n=confirm('This will delete every theme setting made so far and revert the theme option pages to factory settings. \nDo you really want to do that? ');if(n){a.ajax({type:'POST',url:t.ajaxUrl,data:{action:t.actionReset,avia_filter:o,avia_id:i,avia_request:!0,_wpnonce:t.nonceReset,_wp_http_referer:t.ref},beforeSend:function(){a('.avia_header .avia_loading, .avia_footer .avia_loading, .avia_reset_selected_button .avia_loading',t.container).css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){a('body').avia_alert({the_class:'error',text:'Resetting didnt work! <br/> Please wait a few seconds and try again',show:4500})},success:function(e){if(e.match('avia_reset')){a('body').avia_alert({text:'Alright!<br/>Reset of options was successful. <br/>The page will now be reloaded to reflect the changes'},function(){window.location.hash='wpwrap';window.location.reload(!0)})}
else{var t='';if(e.length>3){t='Resetting didnt work! <br/>The script returned the following error: <br/><br/>'+e}
else{t='Resetting didnt work! <br/> Please wait a few seconds and try again'};a('body').avia_alert({the_class:'error',text:t,show:4500})}},complete:function(e){a('.avia_loading',t.container).fadeOut()}})};return!1}}})(jQuery);(function(a){a.fn.avia_alert=function(e,t){var n={the_class:'success',text:'Alright!<br/>All Options saved, no problems whatsoever.',show:2200};var i=a.extend(n,e);return this.each(function(){var n=a(this),e=a('<div/>').addClass('avia_notification avia_notification_'+i.the_class).css('opacity',0).html('<span class="avia_notification_icon"></span><div>'+i.text+'</div>').appendTo(n);e.animate({opacity:0.9},function(){e.delay(i.show).fadeOut(function(){e.remove();if(typeof t=='function')t()})})})}})(jQuery);(function(a){a.fn.avia_popups=function(e,i){var c={template:'<div class="avia-popup {extra_class}"><div class="avia-popup-inner"><a href="#" class="popup-close script-close-avia-popup">×</a>{content}</div></div><div class="avia-popup-backdrop"></div>',selector:'*[data-avia-popup], .av-modal-image'};var t=a.extend(c,e),o=this,r=a('body'),n=!1,s=a();o.on('click',t.selector,function(){var i=a(this),c=i.data('avia-popup'),e='',o='';if(i.is('.av-modal-image')){e='<img src=\''+this.href+'\' alt=\'\' title=\'\' class=\'av-modal-popup-image\' />';o='av-modal-window-autoposition'}
else{e=a('#'+c).html()};t.template=t.template.replace('{content}',e);t.template=t.template.replace('{extra_class}',o);s=a(t.template).appendTo(r);n=!0;return!1});o.on('click','.script-close-avia-popup, .avia-popup-backdrop',function(){n=!1;a('.avia-popup-backdrop, .avia-popup').remove();return!1});o.on('keydown',function(e){if(n==!0&&e.keyCode==27){n=!1;a('.avia-popup-backdrop, .avia-popup').remove();return!1}})}})(jQuery);(function(e){'use strict';var a='Couldn\'t add the font because the server didn’t respond.<br/>Please reload the page, then try again',t='Couldn\'t remove the font because the server didn’t respond.<br/>Please reload the page, then try again';e.AviaElementBehavior=e.AviaElementBehavior||{};e.AviaElementBehavior.wp_media=e.AviaElementBehavior.wp_media||[];e.AviaElementBehavior.wp_media_35=function(){var a=e('body');a.on('click','.avia-media-35',e.AviaElementBehavior.wp_media_35_activate);a.on('click','.avia_uploader_35',e.AviaElementBehavior.wp_media_35_activate)};e.AviaElementBehavior.wp_media_35_activate=function(a){a.preventDefault();var o=e(this),t=o.data(),n={frame:t.frame,library:{type:t.type},button:{text:t.button},className:t['class'],title:t.title};if(typeof t.state!='undefined')n.state=t.state;t.input_target=e('#'+t.target);var i=wp.media(n);i.states.add([new wp.media.controller.Library({id:'av_select_single_image',priority:20,toolbar:'select',filterable:'uploaded',library:wp.media.query(i.options.library),multiple:!1,editable:!0,displayUserSettings:!1,displaySettings:!0,allowLocalEdits:!0})]);i.on('select update insert',function(){e.AviaElementBehavior.wp_media_35_insert(i,t)});i.open()};e.AviaElementBehavior.wp_media_35_insert=function(a,t){var i=a.state(),o=i.get('selection').first().toJSON(),r=o.id,n=typeof t.fetch!='undefined'?n=t.fetch:!1;if(n){r=i.get('selection').map(function(e){var a=e.toJSON();if(n=='url'){var t=i.display(e).toJSON();if(a.sizes&&a.sizes[t.size]&&a.sizes[t.size].url){return a.sizes[t.size].url}
else if(a.url){return a.url}}})};t.input_target.val(r).trigger('change');if(typeof t.trigger!='undefined'){e('body').trigger(t.trigger,[o,t])}};e(document).ready(function(){e.AviaElementBehavior.wp_media_35();e('body').on('av_fontello_zip_insert',e.AviaElementBehavior.fontello_insert);e('body').on('click','.avia_iconfont_manager .avia-del-font',e.AviaElementBehavior.fontello_remove);e('body').on('av_typefont_zip_insert',e.AviaElementBehavior.typefont_insert);e('body').on('click','.avia_typefont_manager .avia-del-font',e.AviaElementBehavior.typefont_remove);e('body').on('avia_options_data_saved',e.AviaElementBehavior.typefont_changed);e('body').on('av_config_file_insert',e.AviaElementBehavior.config_file_insert);e('body').on('av_alb_templates_file_insert',e.AviaElementBehavior.alb_templates_file_insert)});e.AviaElementBehavior.typefont_action=null;e.AviaElementBehavior.typefont_insert=function(t,i,n){n.input_target.val('');if(i.subtype!=='zip'){e('body').avia_alert({the_class:'error',text:'Please upload a valid ZIP file.<br/>You can create the file on Fontello.com'});return};var o=e('.avia_typefont_manager'),r=n.input_target.parents('.avia_control').eq(0).find('.avia_upload_loading');e.ajax({type:'POST',url:ajaxurl,dataType:'json',cache:!1,data:{action:'avia_ajax_add_zipped_type_font',values:i,avia_request:!0,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){r.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:a})},success:function(t){if(('undefined'==typeof t)||('undefined'==typeof t.success)){e('body').avia_alert({the_class:'error',text:a})}
else if(t.success){var n=t.id.split(',');e.each(n,function(e,a){var t=o.find('[data-font="'+a+'"]');if(t.length){t.slideUp(200,function(){t.remove()})}});var i=e(t.result);i.css({display:'none'}).appendTo(o).slideDown(200);if(''!=typeof t.redirect){e('body').avia_alert({show:10000,text:t.redirect});e.AviaElementBehavior.typefont_action='typefont_insert'};e('.avia_button.avia_submit').removeClass('avia_button_inactive').trigger('click')}
else{e('body').avia_alert({the_class:'error',show:10000,text:t.error})};if(typeof console!='undefined')console.log(t)},complete:function(e){r.fadeOut()}})};e.AviaElementBehavior.typefont_changed=function(a,t){if(null===e.AviaElementBehavior.typefont_action){return};e.AviaElementBehavior.typefont_action=null;if(('undefined'!==typeof t)&&('undefined'!==typeof t.success)&&(!0===t.success)){window.location.hash='#goto_upload';window.location.reload(!0);return};e('body').avia_alert({the_class:'error',show:6500,text:'An error occured saving the options. Please reload the page, check them and try again.'});return};e.AviaElementBehavior.typefont_remove=function(i){i.preventDefault();var n=e(this),o=n.parents('.avia-available-font:eq(0)'),l=n.parents('.avia_typefont_manager:eq(0)'),d=l.find('.avia-available-font'),s=n.data('delete'),r=n.parents('.avia_control').eq(0).find('.avia_upload_loading');e.ajax({type:'POST',url:ajaxurl,dataType:'json',cache:!1,data:{action:'avia_ajax_remove_zipped_type_font',del_font:s,avia_request:!0,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){r.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:t})},success:function(t){if(('undefined'==typeof t)||('undefined'==typeof t.success)){e('body').avia_alert({the_class:'error',text:a})}
else if(t.success){o.slideUp(200,function(){o.remove()})}
else{e('body').avia_alert({the_class:'error',text:t.error})};if(typeof console!='undefined')console.log(t)},complete:function(e){r.fadeOut()}})};e.AviaElementBehavior.fontello_insert=function(t,i,n){n.input_target.val('');var o=e('.avia_iconfont_manager');if(i.subtype!=='zip'){e('body').avia_alert({the_class:'error',text:'Please upload a valid ZIP file.<br/>You can create the file on Fontello.com'});return};var r=n.input_target.parents('.avia_control').eq(0).find('.avia_upload_loading');e.ajax({type:'POST',url:ajaxurl,data:{action:'avia_ajax_add_zipped_font',values:i,avia_request:!0,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){r.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:a})},success:function(a){if(a.match(/avia_font_added/)){var i=a.replace(/avia_font_added:/,''),t=o.find('[data-font="'+i+'"]'),n=o.find('.avia-available-font'),r=o.find('.avia-available-font:eq(0)').clone().wrap('<p>').parent().html().replace(/{font_name}/g,i);if(t.length){t.removeClass('av-highlight');setTimeout(function(){t.addClass('av-highlight')},10);if(n.index(t)===1){var l=t.find('.avia-def-font').removeClass('avia-def-font').addClass('avia-del-font').text('Delete')}}
else{e(r).css({display:'none'}).appendTo(o).slideDown(200)}}
else{e('body').avia_alert({the_class:'error',show:6500,text:'Couldn\'t add the font.<br/>The script returned the following error: <br/><br/>'+a})};if(typeof console!='undefined')console.log(a)},complete:function(e){r.fadeOut()}})};e.AviaElementBehavior.fontello_remove=function(a){a.preventDefault();var i=e(this),n=i.parents('.avia-available-font:eq(0)'),r=i.parents('.avia_iconfont_manager:eq(0)'),l=r.find('.avia-available-font'),s=i.data('delete'),o=i.parents('.avia_control').eq(0).find('.avia_upload_loading');e.ajax({type:'POST',url:ajaxurl,data:{action:'avia_ajax_remove_zipped_font',del_font:s,avia_request:!0,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){o.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:t})},success:function(a){if(a.match(/avia_font_removed/)){if(l.index(n)===1){var t=n.find('.avia-del-font').removeClass('avia-del-font').addClass('avia-def-font').text('(Default Font)')}
else{n.slideUp(200,function(){n.remove()})}}
else{e('body').avia_alert({the_class:'error',text:'Couldn\'t remove the font.<br/>Please reload the page, then try again'})};if(typeof console!='undefined')console.log(a)},complete:function(e){o.fadeOut()}})};e.AviaElementBehavior.alb_templates_file_insert=function(a,t,i){i.input_target.val('');if(t.subtype!=='plain'){e('body').avia_alert({the_class:'error',text:'Please upload a valid config file.<br/>You can create the file by clicking on the "Export Layout Builder Templates" button'});return};var n=i.input_target.parents('.avia_control').eq(0).find('.avia_upload_loading');e.ajax({type:'POST',url:ajaxurl,dataType:'json',cache:!1,data:{action:'avia_ajax_import_alb_templates_file',values:t,avia_request:!0,avia_id:i.target,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){n.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:'Couldn\'t import the templates because the server didn’t respond.<br/>Please reload the page, then try again'})},success:function(a){if(('undefined'==typeof a)||('undefined'==typeof a.success)){e('body').avia_alert({the_class:'error',text:'Couldn\'t import the templates because the server returned an invalid respond'})}
else if(a.success){e('body').avia_alert({text:a.msg})}
else{e('body').avia_alert({the_class:'error',text:a.msg})}},complete:function(e){n.fadeOut()}})};e.AviaElementBehavior.config_file_insert=function(a,t,i){i.input_target.val('');if(t.subtype!=='plain'){e('body').avia_alert({the_class:'error',text:'Please upload a valid config file.<br/>You can create the file by clicking on the "Export Theme Settings" button'});return};var s=i.input_target.parents('.avia_control').eq(0).find('.avia_upload_loading'),d=['filter_tabs','filter_values','skip_tabs','skip_values'],n={};var l=!1;e.each(d,function(e,a){if('undefined'!=typeof i[a]){n[a]=i[a];l=!0}});if(!l){var r=i.input_target.closest('#avia_upload');if(r.find('input#upload_filter_checkbox:checked').length>0){if(r.find('input#upload_keep_quick_css:checked').length>0){n.skip_values='avia:quick_css'};var o=r.find('select#upload_filter_tabs').val();if(null!=o&&o.length>0){n.filter_tabs=o.join(',')}}};e.ajax({type:'POST',url:ajaxurl,data:{action:'avia_ajax_import_config_file',values:t,avia_filter:n,avia_request:!0,avia_id:i.target,_wpnonce:e('input[name=avia-nonce]').val()},beforeSend:function(){s.css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:1})},error:function(){e('body').avia_alert({the_class:'error',text:'Couldn\'t import the config because the server didn’t respond.<br/>Please reload the page, then try again'})},success:function(a){if(a.match(/avia_config_file_imported/)){e('body').avia_alert({text:'Alright!<br/>Import worked out, no problems whatsoever. <br/>The page will now be reloaded to reflect the changes'},function(){window.location.hash='';window.location.reload(!0)})}
else{e('body').avia_alert({the_class:'error',show:6500,text:'Couldn\'t import the theme settings file.<br/>The script returned the following error: <br/><br/>'+a})};if(typeof console!='undefined')console.log(a)},complete:function(e){s.fadeOut()}})}})(jQuery);(function(a){var e={window:parent||top,bind_click:function(){a('body').on('click','.avia_gallery_delete_all',function(){var e=a(this),i=e.parents('.avia_gallery_upload_container:eq(0)'),t=i.find('.avia_sortable_gallery_container');t.html('');return!1});a('body').on('click','.avia_gallery_uploader',function(){var i=a(this),c=i.parents('.avia_gallery_upload_container:eq(0)'),v=i.parents('.avia_set:eq(0)'),f=c.find('.avia_sortable_gallery_container'),l=this.title,r=i.data('attach-to-post'),d=i.data('label'),g=i.data('real-id'),u=i.data('overwrite'),o=i.data('video-insert'),n=v.find('.avia_gallery_image_value'),p=n.parents('.avia_gallery_image:eq(0)'),m=a('input[name=meta_active]','#avia_hidden_data'),s='options_page';if(m.length)s='metabox';var t='media-upload.php?post_id='+r;t+='&amp;avia_gallery_active=true';if(o)t+='&amp;tab='+o+'&amp;height=300';t+='&amp;avia_gallery_label='+encodeURI(d),t+='&amp;TB_iframe=true';if(o)a('body').addClass(o+'_height_mod height_mod_active');e.window.avia_framework_globals.gallery_editor={element:i,container:f,value_field:n,elementSlug:g,attach_to_post:r,page_context:s,overwrite:u,value_field:n,image_field:p,label:d,video:o,_wpnonce:a('input[name=avia-nonce]').val(),_wp_http_referer:a('input[name=_wp_http_referer]').val(),};l='';tb_show(l,t);return!1});if(a('body',parent.document).is('.height_mod_active')){a('body').addClass('iframe_height_mod_active')}},insert_click:function(){a('body').on('click','.avia_send_to_gallery',function(){var i=a(this),t=i.data('attachment-id'),o=i.next('.avia_gallery_loading').css({visibility:'visible'}).removeClass('avia_loading_done avia_loading_error');if(e.window.avia_framework_globals.gallery_editor&&e.window.avia_framework_globals.gallery_editor.overwrite){e.replace_image(t,o)}
else{e.request_image(t,o)};return!1})},insert_inline_content_click:function(i,t,o){i=a(i);t=a(t);var n=a('<div class="avia_gallery_loading"></div>').insertAfter(i);i.click(function(){var a=t.val();if(a!=''){var i={};i.std={slideshow_image:'',slideshow_video:encodeURIComponent(a)};n.css('visibility','visible');e.request_image(a,n,i,o)};return!1})},open_close_click:function(){a('body').on('click','.open_set',function(){var i=a(this),e=i.parents('.avia_set:eq(0)');if(!e.is('.required_ready')){e.addClass('required_ready');a('.avia_required_container',e).avia_form_requirement()};if(e.is('.set_is_open')){e.removeClass('set_is_open');i.text(i.data('openset'))}
else{e.addClass('set_is_open');i.text(i.data('closedset'))};return!1})},get_gallery_settings:function(){if(e.window.avia_framework_globals.gallery_editor){return e.window.avia_framework_globals.gallery_editor};return!1},clear_gallery:function(){e.window.avia_framework_globals.gallery_editor=!1},clone_insert_button:function(){if(!e.window.avia_framework_globals.gallery_editor)return!1;var i=a('#media-upload');if(i.length){var t=i.find('.media-item').not('.button_cloned');t.each(function(){var e=a(this).addClass('button_cloned'),i=e.find('.filename'),t=e.find('.avia_send_to_gallery').clone(!0).prependTo(i),o=a('<div class="avia_gallery_loading"></div>').insertAfter(t)})}},add_insert_all_button:function(){var l=a('#gallery-form'),o=e.window.avia_framework_globals.gallery_editor;if(l.length&&o&&!o.overwrite){var t=a('.ml-submit:eq(0)'),n=a('<input type="submit" id="avia_insert_all" class="button savebutton" value="Add all Images to Slideshow"/>'),i=a('<div class="avia_gallery_loading avia_gallery_loading_all"></div>');n.appendTo(t).on('click',function(){var a={};a.activate_filter='avia_ajax_fetch_all';i.css({visibility:'visible'}).removeClass('avia_loading_done avia_loading_error');e.request_image('',i,a);return!1});i.appendTo(t)}},overwrite_default_uploader:function(){window.orig_send_to_editor=window.send_to_editor;window.send_to_editor=function(a){if(e.get_gallery_settings()==!1){window.orig_send_to_editor(a)}
else{e.clear_gallery();e.window.tb_remove()}}},sortable:function(){a('.avia_handle').disableSelection();a('.avia_sortable_gallery_container').sortable({handle:'.avia_handle',cancel:'a',items:'.avia_row',update:function(a,e){var i={currentSet:e.item,container:e.item,setsToCount:!1,detach:'.ui-sortable'};avia_recalcIds(i)}})},modify_filter_url:function(){var i=a('#filter'),t=e.window.avia_framework_globals.gallery_editor;if(i.length){var o=i.find('input[name=avia_gallery_label]'),n=i.find('input[name=avia_gallery_active]');if(t&&t.label&&!o.length){i.prepend('<input type=\'hidden\' name=\'avia_gallery_label\' value=\''+t.label+'\'/>')};if(t&&!n.length){i.prepend('<input type=\'hidden\' name=\'avia_gallery_active\' value=\'true\'/>')}}},activate_tabs:function(e){if(!e||e=='undefined'){e='.avia_sortable_gallery_container'};var i=a(e),t=i.parents('#avia_options_page').length>0;i.each(function(){var i=a(this),e=[],o=t?!0:!1;if(t&&i.hasClass('avia_tab_container')){e=i.filter('.avia_set')}
else{e=i.find('.avia_set');if(!e.length){e=i.filter('.avia_set')}};e.each(function(){var i=a(this),t=i.find('.avia_tab'),e=a('<div class="tab-title-container"></div>');if(!o){e.prependTo(i.find('.avia_visual_set:eq(0)'))}
else{e.prependTo(i)};t.each(function(i){var o=a(this),l=o.data('group-name'),n='avia_active_tab_title';if(i!=0){o.css({display:'none'});n=''};a('<a href="#" class="tab-title '+n+'">'+l+'</a>').appendTo(e).click(function(){var n=a(this);t.css({display:'none'}).removeClass('avia_active_tab');o.css({display:'block'}).addClass('avia_active_tab');e.find('a').removeClass('avia_active_tab_title');n.addClass('avia_active_tab_title');var i=o.parents('.avia_subpage_container').eq(0);if(i.length){if(o.data('av_set_global_tab_active')){i.attr('data-av_set_global_tab_active',o.data('av_set_global_tab_active'))}
else{i.attr('data-av_set_global_tab_active','')}};return!1})})})})},overwrite_thickbox_close:function(){window.orig_tb_remove=window.tb_remove;window.tb_remove=function(){var t=e.window.avia_framework_globals.gallery_editor;if(t){if(t.video){var i=a('#TB_window',parent.document);i.height(i.height());i.css({overflow:'hidden',top:i.css('top'),marginTop:i.css('marginTop')});a('body').removeClass(t.video+'_height_mod height_mod_active')};e.clear_gallery()};window.orig_tb_remove()}},replace_image:function(i,t){var o=e.window.avia_framework_globals.gallery_editor;a.ajax({type:'POST',url:window.ajaxurl,data:'action=avia_ajax_get_image&attachment_id='+i,success:function(n){t.addClass('avia_loading_done');o.value_field.val(i);n=a.trim(n);if(n.match(/^<img/)){o.image_field.find('a').html(n)}
else{o.image_field.find('a').html('<img src="'+avia_framework_globals.frameworkUrl+'images/icons/video.png" alt="" />')};e.window.tb_remove()}})},request_image:function(i,o,l,r){var t=e.window.avia_framework_globals.gallery_editor;if(!t){o.addClass('avia_loading_error');return};var n={method:'add',action:'avia_ajax_modify_set',elementSlug:t.elementSlug,context:t.page_context,apply_all:t.attach_to_post,std:{slideshow_image:i},_wpnonce:t._wpnonce,_wp_http_referer:t._wp_http_referer,ajax_decode:!0};var n=a.extend(n,l);a.ajax({type:'POST',url:window.ajaxurl,data:n,success:function(i){o.addClass('avia_loading_done');var l=i.match(/\{avia_ajax_element\}(.+|\s+)\{\/avia_ajax_element\}/),s={};if(l!=null){var n=a(l[1]);n.appendTo(t.container);if(n.length<5){n.css('display','none').slideDown(400)};var d=n.filter(':eq(0)');s={currentSet:d,container:d,setsToCount:!1};avia_recalcIds(s);n.avia_event_binding();if(l[0]!=i){i=i.replace(l[0],'');a('body').avia_alert({the_class:'error',text:'Adding of element successful but the script generated unexpected output: <br/><br/> '+i,show:6000})}
else{if(r==!0)setTimeout(e.window.tb_remove,500)}}}})}};a(function(){e.overwrite_thickbox_close();if(a.fn.sortable){e.sortable()};e.modify_filter_url();e.bind_click();e.insert_click();e.insert_inline_content_click('#avia_insert_video','#src',!0);e.open_close_click();e.activate_tabs();e.clone_insert_button();a('body').on('mouseenter','.media-item',e.clone_insert_button);e.add_insert_all_button()});a.fn.avia_media_advanced_plugin=function(a){e.activate_tabs(this)}})(jQuery);function avia_log(a){var e=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);((window.console&&console.log&&!e)||(window.opera&&opera.postError&&!e)||t).call(this,a);function t(a){var e=jQuery('.avia_logfield');if(!e.length)e=jQuery('<pre class="avia_logfield"></pre>').appendTo('body').css({zIndex:100000,padding:'20px',backgroundColor:'#ffffff',position:'fixed',top:0,right:0,width:'300px',borderColor:'#cccccc',borderWidth:'1px',borderStyle:'solid',height:'600px',overflow:'scroll',display:'block',zoom:1});var i=e.html(),a=o(a);e.html(i+'\n<br/>'+a)};function o(a){var e=a;if(typeof a=='object'||typeof a=='array'){for(i in a){e+='\''+i+'\': '+a[i]+'<br/>'}};return e}};